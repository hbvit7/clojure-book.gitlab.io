<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="Karthikeyan.A.K">
<title>Clojure</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge .cm {
  color: #999988;
  font-style: italic;
}
pre.rouge .cp {
  color: #999999;
  font-weight: bold;
}
pre.rouge .c1 {
  color: #999988;
  font-style: italic;
}
pre.rouge .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf {
  color: #999988;
  font-style: italic;
}
pre.rouge .err {
  color: #a61717;
  background-color: #e3d2d2;
}
pre.rouge .gd {
  color: #000000;
  background-color: #ffdddd;
}
pre.rouge .ge {
  color: #000000;
  font-style: italic;
}
pre.rouge .gr {
  color: #aa0000;
}
pre.rouge .gh {
  color: #999999;
}
pre.rouge .gi {
  color: #000000;
  background-color: #ddffdd;
}
pre.rouge .go {
  color: #888888;
}
pre.rouge .gp {
  color: #555555;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gu {
  color: #aaaaaa;
}
pre.rouge .gt {
  color: #aa0000;
}
pre.rouge .kc {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kd {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kn {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #445588;
  font-weight: bold;
}
pre.rouge .k, pre.rouge .kv {
  color: #000000;
  font-weight: bold;
}
pre.rouge .mf {
  color: #009999;
}
pre.rouge .mh {
  color: #009999;
}
pre.rouge .il {
  color: #009999;
}
pre.rouge .mi {
  color: #009999;
}
pre.rouge .mo {
  color: #009999;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #009999;
}
pre.rouge .sa {
  color: #000000;
  font-weight: bold;
}
pre.rouge .sb {
  color: #d14;
}
pre.rouge .sc {
  color: #d14;
}
pre.rouge .sd {
  color: #d14;
}
pre.rouge .s2 {
  color: #d14;
}
pre.rouge .se {
  color: #d14;
}
pre.rouge .sh {
  color: #d14;
}
pre.rouge .si {
  color: #d14;
}
pre.rouge .sx {
  color: #d14;
}
pre.rouge .sr {
  color: #009926;
}
pre.rouge .s1 {
  color: #d14;
}
pre.rouge .ss {
  color: #990073;
}
pre.rouge .s, pre.rouge .dl {
  color: #d14;
}
pre.rouge .na {
  color: #008080;
}
pre.rouge .bp {
  color: #999999;
}
pre.rouge .nb {
  color: #0086B3;
}
pre.rouge .nc {
  color: #445588;
  font-weight: bold;
}
pre.rouge .no {
  color: #008080;
}
pre.rouge .nd {
  color: #3c5d5d;
  font-weight: bold;
}
pre.rouge .ni {
  color: #800080;
}
pre.rouge .ne {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nf, pre.rouge .fm {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nl {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nn {
  color: #555555;
}
pre.rouge .nt {
  color: #000080;
}
pre.rouge .vc {
  color: #008080;
}
pre.rouge .vg {
  color: #008080;
}
pre.rouge .vi {
  color: #008080;
}
pre.rouge .nv, pre.rouge .vm {
  color: #008080;
}
pre.rouge .ow {
  color: #000000;
  font-weight: bold;
}
pre.rouge .o {
  color: #000000;
  font-weight: bold;
}
pre.rouge .w {
  color: #bbbbbb;
}
pre.rouge {
  background-color: #f8f8f8;
}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Clojure</h1>
<div class="details">
<span id="author" class="author">Karthikeyan.A.K</span><br>
<span id="email" class="email"><a href="mailto:mindaslab@protonmail.com">mindaslab@protonmail.com</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_copyright">Copyright</a></li>
<li><a href="#_author">Author</a></li>
<li><a href="#_prerequisite">Prerequisite</a></li>
<li><a href="#_why_this_book">Why this book?</a></li>
<li><a href="#_where_to_get_help">Where to get help</a>
<ul class="sectlevel2">
<li><a href="#_local_communities">Local communities</a></li>
<li><a href="#_clojure_website">Clojure website</a></li>
<li><a href="#_clojure_forum">Clojure forum</a></li>
<li><a href="#_reddit">Reddit</a></li>
</ul>
</li>
<li><a href="#_getting_this_book">Getting this book</a></li>
<li><a href="#_installing_stuff">1. Installing Stuff</a>
<ul class="sectlevel2">
<li><a href="#_clojure">1.1. Clojure</a></li>
<li><a href="#_leningen">1.2. Leningen</a></li>
<li><a href="#_configuring_ide">1.3. Configuring IDE</a></li>
</ul>
</li>
<li><a href="#_hosted_language">2. Hosted Language</a></li>
<li><a href="#_first_steps">3. First Steps</a>
<ul class="sectlevel2">
<li><a href="#_repl">3.1. REPL</a></li>
<li><a href="#_printing_things">3.2. Printing Things</a></li>
<li><a href="#_arithmetic">3.3. Arithmetic</a></li>
<li><a href="#_types_of_numbers">3.4. Types of Numbers</a></li>
<li><a href="#_strings">3.5. Strings</a></li>
<li><a href="#_variables">3.6. Variables</a></li>
<li><a href="#_clojure_in_file">3.7. Clojure in file</a></li>
</ul>
</li>
<li><a href="#_data_structures">4. Data Structures</a>
<ul class="sectlevel2">
<li><a href="#_vectors">4.1. Vectors</a></li>
<li><a href="#_lists">4.2. Lists</a></li>
<li><a href="#_sets">4.3. Sets</a></li>
<li><a href="#_maps">4.4. Maps</a></li>
<li><a href="#_difference_between_vectors_and_lists">4.5. Difference Between Vectors and Lists</a></li>
</ul>
</li>
<li><a href="#_reading_clojure_documentation">5. Reading Clojure Documentation</a>
<ul class="sectlevel2">
<li><a href="#_doc">5.1. doc</a></li>
<li><a href="#_find_doc">5.2. find-doc</a></li>
<li><a href="#_apropos">5.3. apropos</a></li>
<li><a href="#_clojure_docs_online">5.4. Clojure docs online</a></li>
</ul>
</li>
<li><a href="#_logic_and_comparison">6. Logic and comparison</a></li>
<li><a href="#_conditions_and_branching">7. Conditions and branching</a>
<ul class="sectlevel2">
<li><a href="#_if">7.1. if</a></li>
<li><a href="#_when">7.2. when</a></li>
<li><a href="#_cond">7.3. cond</a></li>
<li><a href="#_case">7.4. case</a></li>
</ul>
</li>
<li><a href="#_loops">8. Loops</a>
<ul class="sectlevel2">
<li><a href="#_for">8.1. for</a></li>
<li><a href="#_doseq">8.2. doseq</a></li>
<li><a href="#_loop">8.3. loop</a></li>
</ul>
</li>
<li><a href="#_functions">9. Functions</a>
<ul class="sectlevel2">
<li><a href="#_saying_hello_with_functions">9.1. Saying Hello With Functions</a></li>
<li><a href="#_passing_argument">9.2. Passing Argument</a></li>
<li><a href="#_finding_area_of_circle">9.3. Finding Area Of Circle</a></li>
<li><a href="#_refactoring">9.4. Refactoring</a></li>
<li><a href="#_function_with_multiple_arguments">9.5. Function with multiple arguments</a></li>
<li><a href="#_accepting_unlimited_arguments">9.6. Accepting unlimited arguments</a></li>
<li><a href="#_returning_stuff">9.7. Returning stuff</a></li>
<li><a href="#_recursion">9.8. Recursion</a></li>
<li><a href="#_multimethods">9.9. Multimethods</a></li>
<li><a href="#_pre_and_post_condition_checking">9.10. Pre and Post Condition Checking</a></li>
<li><a href="#_docstring">9.11. Docstring</a></li>
<li><a href="#_anonymous_functions">9.12. Anonymous Functions</a></li>
<li><a href="#_functions_returning_functions">9.13. Functions returning functions</a></li>
</ul>
</li>
<li><a href="#_spec">10. Spec</a>
<ul class="sectlevel2">
<li><a href="#_specing_collection">10.1. Specing collection</a></li>
<li><a href="#_inspecting_collections">10.2. Inspecting Collections</a></li>
<li><a href="#_checking_maps">10.3. Checking Maps</a></li>
<li><a href="#_explaining_spec">10.4. Explaining Spec</a></li>
<li><a href="#_conform">10.5. Conform</a></li>
<li><a href="#_using_spec_in_functions">10.6. Using Spec In Functions</a></li>
</ul>
</li>
<li><a href="#_what_is_clojure_code">11. What is Clojure code</a></li>
<li><a href="#_sequence">12. Sequence</a></li>
<li><a href="#_lazy_sequence">13. Lazy Sequence</a>
<ul class="sectlevel2">
<li><a href="#_repeat">13.1. repeat</a></li>
<li><a href="#_cycle">13.2. cycle</a></li>
<li><a href="#_iterate">13.3. iterate</a></li>
</ul>
</li>
<li><a href="#_map_filter_reduce_apply">14. map, filter, reduce, apply</a>
<ul class="sectlevel2">
<li><a href="#_map">14.1. map</a></li>
<li><a href="#_filter">14.2. filter</a></li>
<li><a href="#_reduce">14.3. reduce</a></li>
<li><a href="#_apply">14.4. apply</a></li>
</ul>
</li>
<li><a href="#_destructuring">15. Destructuring</a></li>
<li><a href="#_splitting_large_programs">16. Splitting Large Programs</a></li>
<li><a href="#_records_and_protocols">17. Records and Protocols</a>
<ul class="sectlevel2">
<li><a href="#_creating_objects">17.1. Creating objects</a></li>
<li><a href="#_using_records_with_functions">17.2. Using Records with functions</a></li>
<li><a href="#_protocols">17.3. Protocols</a></li>
</ul>
</li>
<li><a href="#_namespaces">18. namespaces</a></li>
<li><a href="#_testing">19. Testing</a></li>
<li><a href="#_macros">20. Macros</a></li>
<li><a href="#_bibliography">Bibliography</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_copyright">Copyright</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This book is released under GFDL <a href="https://www.gnu.org/licenses/fdl-1.3.html" class="bare">https://www.gnu.org/licenses/fdl-1.3.html</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_author">Author</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This book is written by me, Karthikeyan.A.K. You can write to me at <a href="mailto:mindaslab@protonmail.com">mindaslab@protonmail.com</a>, or text me in WhatsApp, Signal or Telegram @ +91 8428050777.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisite">Prerequisite</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There is one thing though, you must be familiar with using computers. I would suggest one to be familiar with Ubuntu GNU/Linux, you can get it here <a href="https://ubuntu.com" class="bare">https://ubuntu.com</a>. Install it on a computer, learn to use it, and get familiar with GNU/Linux. To get familiar with GNU/Linux one may visit and learn from <a href="http://linuxjourney.com" class="bare">http://linuxjourney.com</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_this_book">Why this book?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For unknown reason very smart programmers are using Clojure, I haven&#8217;t figured out why. The writing of this book is to figure out why. My last job was in a medical coding company where we maintained 3 Rails app, I got to code in two of them, one had 0.1+ million lines of code, was headed by a guy who knew how to code and was maintained okay, other one had 0.2+ million lines of code, had no test, headed by a guy who did not know how to code but could just do politics, that project prior to him was headed by people who did not know how to write maintainable software and senior developers in the project had to bear the brunt of history. It showed me how screwed Rails app can get if left unattended, so I want to search for something that&#8217;s more idiot-proof.</p>
</div>
<div class="paragraph">
<p>When I first met Ruby on Rails, I was very sure PHP will be the king of web page making, and it&#8217;s true even today, but Rails changed my life and made me more productive. I will not say that with Rails we cannot handle massive projects, in my present job extremely skilled people and me are doing just that, but then this book is just a search, a very similar search I did in my PHP days when I got a hint of the power of Ruby, and this book is to document my search, if Clojure is good enough or not.</p>
</div>
<div class="paragraph">
<p>Another reason why I am going into Clojure is because of Clojure Script. If I can use the same language on both client and server side and if its not dreaded JavaScript, who wouldn&#8217;t want to explore such language? Lisp seems to be a very old language and Clojure seems to be a Lisp dialect. Somehow the inventors of Lisp seem to have struck the right balance early on, and I need to find out what it is.</p>
</div>
<div class="paragraph">
<p>I have lots of Data Science ideas, and looks like Clojure is fast and powerful enough to be used in those fields too. I want to explore that too, though I wonder if JVM ever runs on GPU for fast computation.</p>
</div>
<div class="paragraph">
<p>One negative I find is JVM. Java is controlled by Oracle, and it&#8217;s an evil enterprise like Microsoft and Apple. That&#8217;s the only negative I have, but let&#8217;s see how things go.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_where_to_get_help">Where to get help</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are new to programming, or even if you are a seasoned programmer, chances are you could be stuck and may need help from time to time. For Clojure people these channels listed in this chapter may help.</p>
</div>
<div class="sect2">
<h3 id="_local_communities">Local communities</h3>
<div class="paragraph">
<p>Its better to search for local Clojure and GNU/Linux communities and become friends with them. If you can find one, consider joining them. Those are the best ways to get help. One may look here <a href="https://clojure.org/community/user_groups" class="bare">https://clojure.org/community/user_groups</a> for nearby group.</p>
</div>
</div>
<div class="sect2">
<h3 id="_clojure_website">Clojure website</h3>
<div class="paragraph">
<p>The Clojure website may be a good starting point to browse for help if you have the time and patience. One may visit it here <a href="https://clojure.org/" class="bare">https://clojure.org/</a>. I am mentioning this because it is very possible that one may find some good piece of help I have left out.</p>
</div>
</div>
<div class="sect2">
<h3 id="_clojure_forum">Clojure forum</h3>
<div class="paragraph">
<p>The official Clojure forum is here <a href="https://ask.clojure.org/" class="bare">https://ask.clojure.org/</a>, one may join it and start asking questions. Some of my initial doubts were cleared by this forum.</p>
</div>
<div class="paragraph">
<p>Clojure has a second forum here <a href="https://clojureverse.org/" class="bare">https://clojureverse.org/</a>, it&#8217;s called Clojureverse this one too seems to be popular.</p>
</div>
</div>
<div class="sect2">
<h3 id="_reddit">Reddit</h3>
<div class="paragraph">
<p>Reddit also has a Clojure community. If you are a reddit user, one may find the community here <a href="https://www.reddit.com/r/Clojure/" class="bare">https://www.reddit.com/r/Clojure/</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_this_book">Getting this book</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One can get this book here <a href="https://clojure-book.gitlab.io/" class="bare">https://clojure-book.gitlab.io/</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_stuff">1. Installing Stuff</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_clojure">1.1. Clojure</h3>
<div class="paragraph">
<p>Clojure works on all OS platforms, you can install Clojure following the link here <a href="https://clojure.org/guides/install_clojure" class="bare">https://clojure.org/guides/install_clojure</a>. Once done it&#8217;s time for us to check the Clojure REPL. To know what is REPL, checkout <a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop" class="bare">https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop</a>. Type <code>clj</code> in your terminal, and you must get something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ clj
Clojure 1.10.2
user=&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s the Clojure REPL. Now type <code>(println "Hello World")</code> in it as shown below and press <kbd>ENTER</kbd></p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ clj
Clojure 1.10.2
user=&gt; (println "Hello World")</pre>
</div>
</div>
<div class="paragraph">
<p>You will see <code>Hello World</code> printed out as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ clj
Clojure 1.10.2
user=&gt; (println "Hello World")
Hello World
nil
user=&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>There is also a <code>nil</code> after the <code>Hello World</code>, don&#8217;t worry much about that, we will see what is that later. After the nil you see once again <code>user&#8658;</code> which means Cloure is waiting for your type another command for it to execute.</p>
</div>
<div class="paragraph">
<p>If you want to come out of this Clojure REPL, type <span class="keyseq"><kbd>CTRL</kbd>+<kbd>D</kbd></span>. You will get back to normal GNU/Linux prompt.</p>
</div>
</div>
<div class="sect2">
<h3 id="_leningen">1.2. Leningen</h3>
<div class="imageblock">
<div class="content">
<img src="https://leiningen.org/img/leiningen.jpg" alt="leiningen">
</div>
</div>
<div class="paragraph">
<p>Leiningen is a tool that automates some stuff like setting up a Clojure project. Please refer to its website <a href="https://leiningen.org/" class="bare">https://leiningen.org/</a> and install it. Once done type <code>lein repl</code> in your terminal, and you will see this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ lein repl
nREPL server started on port 64285 on host 127.0.0.1 - nrepl://127.0.0.1:64285
REPL-y 0.4.4, nREPL 0.8.3
Clojure 1.10.1
OpenJDK 64-Bit Server VM 1.8.0_152-release-1056-b12
    Docs: (doc function-name-here)
          (find-doc "part-of-name-here")
  Source: (source function-name-here)
 Javadoc: (javadoc java-object-or-class-here)
    Exit: Control+D or (exit) or (quit)
 Results: Stored in vars *1, *2, *3, an exception in *e

user=&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Press <span class="keyseq"><kbd>CTRL</kbd>+<kbd>D</kbd></span> and it should stop. All is well, and you have installed Leningen.</p>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_ide">1.3. Configuring IDE</h3>
<div class="sect3">
<h4 id="_installing_vscodium">1.3.1. Installing VSCodium</h4>
<div class="imageblock">
<div class="content">
<img src="https://vscodium.com/img/vscodium.png" alt="vscodium">
</div>
</div>
<div class="paragraph">
<p>You could use any IDE, but since this is my book, I would take the luxury of suggesting VSCodium. This IDE take the editor made by evil Microsoft and removes the bad part out of it. You could get the IDE here <a href="https://vscodium.com/" class="bare">https://vscodium.com/</a> where the installation instructions are given.</p>
</div>
</div>
<div class="sect3">
<h4 id="_calva">1.3.2. Calva</h4>
<div class="imageblock">
<div class="content">
<img src="https://raw.githubusercontent.com/BetterThanTomorrow/calva/dev/assets/calva-64h.png" alt="calva 64h">
</div>
</div>
<div class="paragraph">
<p>To use Clojure in VSCodium, there is an excellent plugin called Calva. You may learn about it here <a href="https://calva.io" class="bare">https://calva.io</a>. Go to VSCodium extensions and install it by searching for it:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/searching-for-calva.png" alt="searching for calva">
</div>
</div>
<div class="paragraph">
<p>One may get started with Calva with excellent guides and video&#8217;s here <a href="https://calva.io/getting-started/" class="bare">https://calva.io/getting-started/</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hosted_language">2. Hosted Language</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/hosted-language.png" alt="hosted language">
</div>
</div>
<div class="paragraph">
<p>Clojure is a hosted language, which means its author does not intend it to be compiled to machine code that directly runs on a processor or an operating system. Clojure was initially intended to run on JRE (Java Runtime Environment), and so it gets converted to byte code. Since Clojure is hosted, people found ways to get Clojure to get compiled to JavaScript, hence was born Clojure Script <a href="https://clojurescript.org/" class="bare">https://clojurescript.org/</a>. Clojure can be compiled to Common Language Runtime <a href="https://clojure.org/about/clojureclr" class="bare">https://clojure.org/about/clojureclr</a>, the same thing what Dot Net family of languages gets compiled to. Clojure also gets compiled to Dart <a href="https://github.com/Tensegritics/ClojureDart" class="bare">https://github.com/Tensegritics/ClojureDart</a>. So by knowing Clojure one could target these platforms.</p>
</div>
<div class="paragraph">
<p>One should note that Clojure never promised WORA (write once run anywhere) like Java does, instead you need to change your code when you write Clojure code targeting different platforms. What you get is uniform Clojure Syntax everywhere.</p>
</div>
<div class="paragraph">
<p>Being a web developer I can write backend in any beautiful language I like, but for the front end I am forced to used JavaScript. But in Clojure I can write both front and back end with Clojure without much cognitive load that comes along with language switching.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_first_steps">3. First Steps</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_repl">3.1. REPL</h3>
<div class="paragraph">
<p>When I first started to study Clojure, I was introduced to REPL driven development. I did not get it what it was during my early day, even if you don&#8217;t get it, worry not, you will eventually get it. In this let&#8217;s get a taste of REPL driven development.</p>
</div>
<div class="sect3">
<h4 id="_repl_in_terminal">3.1.1. REPL in Terminal</h4>
<div class="paragraph">
<p>In your terminal type <code>clj</code> and you will be presented with something as shown</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ clj
Clojure 1.11.1
user=&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Clojure 1.11.1</code> tells us that Clojure version 1.11.1 is installed on my machine, and then it shows something like <code>user&#8658;</code>. That is Clojure is prompting you to enter something. Type in <code>(println "Hello World")</code> as shown and press enter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ clj
Clojure 1.11.1
user=&gt; (println "Hello World")
Hello World
nil
user=&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>You get the output <code>Hello World</code> printed out, and a strange thing <code>nil</code> in a line after that and once again you have been prompted to enter something at <code>user&#8658;</code></p>
</div>
<div class="paragraph">
<p>You can now press <span class="keyseq"><kbd>CTRL</kbd>+<kbd>D</kbd></span> to exit the REPL.</p>
</div>
<div class="paragraph">
<p>So what really happened when you typed <code>clj</code>. The first thing was Clojure prompted you with <code>user&#8658;</code>. You typed in something into the prompt, and pressed entered, Clojure REPL <strong>R</strong>ead it and <strong>E</strong>valuated it, understood that you want to print <code>Hello World</code>, next Clojure printed out the <code>Hello World</code>, then it also <strong>P</strong>rint a thing called <code>nil</code>, then it <strong>L</strong>ooped back again and prompted you with <code>user&#8658;</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_repl_in_vscodium">3.1.2. REPL in VSCodium</h4>
<div class="paragraph">
<p>We have seen REPL in action in terminal, let&#8217;s now see it in action in VSCodium. Create a folder named <code>code</code> and open that location with VSCodium, now crate a file named <code>hello_world.clj</code> in it with the following content:</p>
</div>
<div class="paragraph">
<p><a href="https://gitlab.com/clojure-book/code/-/raw/master/hello_world.clj">hello_world.clj</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; hello_world.clj</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello World"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now in terminal <code>cd</code> into <code>code/</code> and type <code>lein repl</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ lein repl
nREPL server started on port 52897 on host 127.0.0.1 - nrepl://127.0.0.1:52897
REPL-y 0.4.4, nREPL 0.8.3
Clojure 1.10.1
OpenJDK 64-Bit Server VM 1.8.0_152-release-1056-b12
    Docs: (doc function-name-here)
          (find-doc "part-of-name-here")
  Source: (source function-name-here)
 Javadoc: (javadoc java-object-or-class-here)
    Exit: Control+D or (exit) or (quit)
 Results: Stored in vars *1, *2, *3, an exception in *e

user=&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The lein is short for Leningen, if you might remember installing it and checking if it launched. <code>repl</code> tells <code>lein</code> to start a REPL. You will see a output as shown. Note <code>nrepl://127.0.0.1:52897</code> in the above output, it means that there is a REPL server running at IP 127.0.0.1 <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> and at port number <sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> 52897. Note down <code>127.0.0.1:52897</code>. May be the port number could vary in your case.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/connect-to-repl-1.png" alt="connect to repl 1">
</div>
</div>
<div class="paragraph">
<p>In VSCodium type <span class="keyseq"><kbd>CTRL</kbd>+<kbd>P</kbd></span> or <span class="keyseq"><kbd>command</kbd>+<kbd>P</kbd></span> and type <code>&gt;</code>, now you can  type in some commands for VSCodium to execute. In it try typing <code>Calva: Start or connect to a Clojure REPL</code>, before you finish typing it, VSCodium would have selected that option for you, press <kbd>ENTER</kbd> or click on it.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/connect-to-repl-2.png" alt="connect to repl 2">
</div>
</div>
<div class="paragraph">
<p>VSCodium will present another set of menus, in it select <code>Connect to a running REPL, not in your project</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/connect-to-repl-3.png" alt="connect to repl 3">
</div>
</div>
<div class="paragraph">
<p>Now in the presented option select <code>Generic</code> as shown above. Now it would prompt for the IP and port number where your REPL is running.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/connect-to-repl-4.png" alt="connect to repl 4">
</div>
</div>
<div class="paragraph">
<p>Paste the copied value <code>127.0.0.1:52897</code> and press enter. At the right you will see a Clojure REPl window being opened. Now in the file at left in <code>hello_world.clj</code>, keep your cursor inside <code>(println "Hello World")</code> and press <span class="keyseq"><kbd>ALT</kbd>+<kbd>ENTER</kbd></span> or <span class="keyseq"><kbd>option</kbd>+<kbd>return</kbd></span></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/connect-to-repl-5.png" alt="connect to repl 5">
</div>
</div>
<div class="paragraph">
<p>You will see the <code>(println "Hello World")</code> evaluated and printed in right-hand REPL pane. Congratulations, you learned how to connect REPL with VSCodium.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_printing_things">3.2. Printing Things</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/printing_things.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/printing_things.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>First let&#8217;s print <code>Hello World!</code>, copy the stuff below, paste it and execute it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello World!"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hello World!
nil</pre>
</div>
</div>
<div class="paragraph">
<p>So you get <code>Hello World!</code> as well as a <code>nil</code> printed in the next line. Forget about the <code>nil</code>, we will look into it when we see functions, but our mission is accomplished.</p>
</div>
<div class="paragraph">
<p>Commenting is very essential in coding. Comments are nothing but notes for the developer who is reading the code, while executing the code, the computer will ignore comments. In clojure everything that follows after semicolon <code>;</code> is a comment. So in the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello World!"</span><span class="p">)</span><span class="w"> </span><span class="c1">; Says Hello to this world</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hello World!
nil</pre>
</div>
</div>
<div class="paragraph">
<p><code>; Says Hello to this world</code> is a comment which the Clojure interpreter will ignore. In the code above, we are commenting in the same line as there is code, usually its a convention to use just one semicolon <code>;</code> for such things. IF you want an entire line dedicated for comment, we use two semicolons <code>;;</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; This program says helo to this world</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello World!"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hello World!
nil</pre>
</div>
</div>
<div class="paragraph">
<p>Both single and double semicolons makes no difference, but that the way conventions have evolved in Clojure.</p>
</div>
<div class="paragraph">
<p>We have printed <code>Hello World</code>, but then wht if we ant to print something else with it. With <code>println</code> its simple, just give other stuff too and it will print as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello World!"</span><span class="w"> </span><span class="s">"Try staying cool."</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hello World! Try staying cool.
nil</pre>
</div>
</div>
<div class="paragraph">
<p>So you have successfully printed something in Clojure.</p>
</div>
</div>
<div class="sect2">
<h3 id="_arithmetic">3.3. Arithmetic</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/arithmetic.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/arithmetic.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In this section let&#8217;s see about Math in Clojure. First let&#8217;s add two numbers 40 and 2, it&#8217;s been done as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>42</pre>
</div>
</div>
<div class="paragraph">
<p>In the above thing we have the plus <code>+</code> sign (it&#8217;s actually a function in Clojure), and we pass 40 and 2 to it for it to add and return 42. Similarly let&#8217;s see what will happen when we pass 44 and 2 to minus <code>-</code> sign:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="mi">44</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>42</pre>
</div>
</div>
<div class="paragraph">
<p>It seems to subtract the second argument 2 from 44 and returns 42.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s see what happens when we pass 6 and 7 to asterisk <code>*</code> or a star:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>42</pre>
</div>
</div>
<div class="paragraph">
<p>We see it returns 42, which is a multiple of 6 and 7.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s see what happens when we pass 210 and 5 to slash <code>/</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">210</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>42</pre>
</div>
</div>
<div class="paragraph">
<p>Looks like 210 is divided by 5, and we get 42.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s see what will happen if we pass more than 2 numbers to plus <code>+</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>15</pre>
</div>
</div>
<div class="paragraph">
<p>All are added and the result of addition is got.</p>
</div>
<div class="paragraph">
<p>Now look at the code below, can you figure out how it works?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>3</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s take the code <code>(/ (+ 1 2 3 4 5) 5)</code>, concentrate on the innermost braces <code>(+ 1 2 3 4 5)</code>, here a bunch of numbers are passed to <code>+</code> and we should get the sum of 1 to 5, that is 15 returned. So in place of <code>(+ 1 2 3 4 5)</code> let&#8217;s substitute <code>15</code>, so we get an expression like this <code>(/ 15 5)</code>, which is nothing but 15 and 5 are passed to <code>/</code>, which means 15 divided by 5, and hence we get 3.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s pass one or more argument to <code>/</code>, passing 1, 2 and 3 to it, we get \$1/6\$ as output as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c1">; this gives out a ratio, a clojure data type</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1/6</pre>
</div>
</div>
<div class="paragraph">
<p>The above output is a fraction, to get a decimal output of a division, append a <code>.0</code> to the number when passing to <code>/</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mf">6.0</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0.16666666666666666</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you don&#8217;t understand it now, don&#8217;t worry, as you read this book it will get clarified.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It&#8217;s enough to know that any one number that&#8217;s been passed to <code>/</code> has a decimal value that is point <code>.</code> something appended to it, we will still get decimal rather than a fraction as output as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mf">2.0</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0.16666666666666666</pre>
</div>
</div>
<div class="paragraph">
<p>Same is the case below too:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mf">3.0</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0.16666666666666666</pre>
</div>
</div>
<div class="paragraph">
<p>Now if we need to get quotient of a division, we can pass numbers to a function named <code>quot</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">quot</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>2</pre>
</div>
</div>
<div class="paragraph">
<p>To get reminder of a division operation, pass numbers to rem function as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">rem</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>4</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s now try to find out area of a circle using Clojure. We know the area is \$pi r^2\$, where \$pi\$ is roughly \$22/7\$. So let&#8217;s see how to code it. Look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; Let's calculate area of circle of radius 7 units</span><span class="w">
</span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">7</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>154N</pre>
</div>
</div>
<div class="paragraph">
<p>Here we represent \$pi\$ by <code>(/ 22 7)</code> the \$r^2\$ where \$r\$ 7 is <code>(* 7 7)</code>, this is multiplied with <code>(/ 22 7)</code> and we get <code>(* (/ 22 7) (* 7 7))</code>. Now the output we got is <code>154N</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
I suspect N stands for big int (a way to store very large integers in computer memory), executing <code>(type 10N)</code> in REPL gives <code>clojure.lang.BigInt</code>, whereas executing <code>(type 10)</code> gives java.lang.Long
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If I add a <code>.0</code> to any number below, the <code>N</code> disappears:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mf">7.0</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>154.0</pre>
</div>
</div>
<div class="paragraph">
<p>Rather than coding our own \$pi\$ as <code>(/ 22 7)</code>, since Clojure is built on Java, we can tap into Java <code>Math</code> library (<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html" class="bare">https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html</a>), and use its methods. This is one advantage of Clojure, since it&#8217;s a hosted language, it can take advantage of libraries provided by the host platform. So we replace <code>(/ 22 7)</code> with <code>Math/PI</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">Math/PI</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">7</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>153.93804002589985</pre>
</div>
</div>
<div class="paragraph">
<p>Similarly to compute \$x^y\$, we can use <code>Math/pow</code> so instead of <code>(* 7 7)</code>, we can replace it with <code>(Math/pow 7 2)</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">Math/PI</span><span class="w"> </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>153.93804002589985</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_types_of_numbers">3.4. Types of Numbers</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/types_of_numbers.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/types_of_numbers.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There are different types of numbers in computing just like there are different types of numbers in Mathematics. For example whole numbers are called as Long in Clojure. You can verify it by passing a whole number to a function named <code>type</code> which tells the type of data been passes to it as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="mi">147</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java.lang.Long</pre>
</div>
</div>
<div class="paragraph">
<p>The numbers with decimal value are called as Double in clojure as you can see below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="mf">147.67</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java.lang.Double</pre>
</div>
</div>
<div class="paragraph">
<p>The value of \$pi\$ too is a double in Clojure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="n">Math/PI</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java.lang.Double</pre>
</div>
</div>
<div class="paragraph">
<p>If two whole numbers or Long divides another Long, what you get is a Ratio in Clojure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">84</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>clojure.lang.Ratio</pre>
</div>
</div>
<div class="paragraph">
<p>As you can see below \$84 / 32\$ in Clojure does not provide a decimal value, but outputs a Ratio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">84</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>21/8</pre>
</div>
</div>
<div class="paragraph">
<p>You can convert one type of number to another, for example 32 is of type Long:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java.lang.Long</pre>
</div>
</div>
<div class="paragraph">
<p>But you can convert it to double by passing it to a <code>double</code> function as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">double</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>32.0</pre>
</div>
</div>
<div class="paragraph">
<p>When querying about it&#8217;s type, it does say Double:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="p">(</span><span class="nb">double</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java.lang.Double</pre>
</div>
</div>
<div class="paragraph">
<p>Say you don&#8217;t want a division of two Long&#8217;s to give you a Ratio as output, to prevent it, convert any one of the number thats been passed to <code>/</code> function into a Double as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">84</span><span class="w"> </span><span class="p">(</span><span class="nb">double</span><span class="w"> </span><span class="mi">32</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>2.625</pre>
</div>
</div>
<div class="paragraph">
<p>The output you get is a Double and not a Ratio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">84</span><span class="w"> </span><span class="p">(</span><span class="nb">double</span><span class="w"> </span><span class="mi">32</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java.lang.Double</pre>
</div>
</div>
<div class="paragraph">
<p>If you wan to just get a non decimal part of a Double, pass that double to long function as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">long</span><span class="w"> </span><span class="mf">42.32</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>42</pre>
</div>
</div>
<div class="paragraph">
<p>As you see, when a Double is passed to <code>long</code> function, it gets type casted to Long:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="p">(</span><span class="nb">long</span><span class="w"> </span><span class="mf">42.32</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java.lang.Long</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_strings">3.5. Strings</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/strings.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/strings.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In this book I think your very first clojure program would have been this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello World!"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It prints <code>Hello World</code> on the screen. The <code>"Hello World!"</code> which is enclosed by double quoted <code>"</code> is nothing but a string of characters and hence its called a string.</p>
</div>
<div class="paragraph">
<p>anything that&#8217;s enclosed by double quotes in Clojure is a String as you can see below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="s">"Hello"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java.lang.String</pre>
</div>
</div>
<div class="paragraph">
<p>Strings can be joined with even non String things using <code>str</code> function as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="s">"1 + 2 is "</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"1 + 2 is 3"</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code <code>(+ 1 2)</code> returns Long, but it can be joined with a string <code>"1 + 2 is "</code> by passing them both to  <code>str</code> function.</p>
</div>
<div class="paragraph">
<p>You can get the character count in a string using using the <code>count</code> function as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="s">"Hello"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>5</pre>
</div>
</div>
<div class="paragraph">
<p>In the code below, to <code>str</code> function we are passing 6 arguments. the first five are numbers , and the last one is a string <code>" and so on&#8230;&#8203;"</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="s">" and so on..."</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"12345 and so on..."</pre>
</div>
</div>
<div class="paragraph">
<p>You can see how Clojure neatly concatenates them and returns out a string.</p>
</div>
<div class="paragraph">
<p>Clojure has a inbuilt String library, you can read it&#8217;s documentation here <a href="https://clojuredocs.org/clojure.string" class="bare">https://clojuredocs.org/clojure.string</a>. From it let&#8217;s use the function <code>reverse</code> to reverse a String:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">clojure.string/reverse</span><span class="w"> </span><span class="s">"Hello"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"olleH"</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s covert all characters to upper case:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">clojure.string/upper-case</span><span class="w"> </span><span class="s">"Hello"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"HELLO"</pre>
</div>
</div>
<div class="paragraph">
<p>I hope this section has briefly explained something about strings. You wil learn more as you go by. Hang on&#8230;&#8203;.</p>
</div>
</div>
<div class="sect2">
<h3 id="_variables">3.6. Variables</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/variables.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/variables.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Imagine variables as boxes containing some value, this can then be used in code to make it more human readable. For example look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">my-name</span><span class="w"> </span><span class="s">"Karthik"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/my-name</pre>
</div>
</div>
<div class="paragraph">
<p>I have assigned String "Karthik" to a variable named <code>my-name</code>, now I can use this <code>my-name</code> any where in the file. If you look at creation of a variable, you can see these three things, first is of course empty braces:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="w"> </span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then we have the <code>def</code> function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Following the <code>def</code> we have the variable name, in this case its <code>my-name</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">my-name</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As a second argument to <code>def</code>, we give the value that needs to be stored in <code>my-name</code> that is <code>"Karthik"</code> in this case:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">my-name</span><span class="w"> </span><span class="s">"Karthik"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So that is how we define a variable. Usually the variable defined with <code>def</code> is called a global variable, that is it&#8217;s available any where in the program. If it doesn&#8217;t make sense now, don&#8217;t worry.</p>
</div>
<div class="paragraph">
<p>Now we can print this variable as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">my-name</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Karthik
nil</pre>
</div>
</div>
<div class="paragraph">
<p>Over here I am adding <code>"Hello"</code> before the variable <code>my-name</code> and its as equivalent of using string <code>"Karthik"</code> instead of <code>my-name</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello"</span><span class="w"> </span><span class="n">my-name</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hello Karthik
nil</pre>
</div>
</div>
<div class="paragraph">
<p>Look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">greeting</span><span class="w"> </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="s">"Hello "</span><span class="w"> </span><span class="n">my-name</span><span class="w"> </span><span class="s">"!"</span><span class="p">))</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">greeting</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hello Karthik!
nil</pre>
</div>
</div>
<div class="paragraph">
<p>I am having a variable called <code>greeting</code> defined above and its been assigned the result of <code>(str "Hello " my-name "!")</code>. That is three strings  <code>"Hello "</code>, <code>my-name</code> and <code>"!"</code> are joined together and the result is stored in <code>greeting</code>. Finally we print it using <code>(println greeting)</code>.</p>
</div>
<div class="paragraph">
<p>Variables like <code>my-name</code> and <code>greeting</code> can be used any where in code, because they are defined using <code>def</code> keyword. If you want a localized variable inside a code block <code>()</code>, you can use <code>let</code> to define it as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">local-variable</span><span class="w"> </span><span class="s">"something"</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">local-variable</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>something</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code, we define a variable named <code>local-variable</code> to be <code>"something"</code>,  and we successfully print it, but outside the bounding braces <code>(let &#8230;&#8203;)</code>, this local variable fails to exist as you can see from the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">local-variable</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>; Syntax error compiling at (variables.clj:16:1).
; Unable to resolve symbol: local-variable in this context</pre>
</div>
</div>
<div class="paragraph">
<p>Trying to print <code>local-variable</code> results in an error.</p>
</div>
</div>
<div class="sect2">
<h3 id="_clojure_in_file">3.7. Clojure in file</h3>
<div class="paragraph">
<p>Till now, you might have run your code on REPL, either in your terminal or in your IDE, possibly VSCodium. Now let&#8217;s see how to store your code in a file and run it. First type the following name in a text editor:</p>
</div>
<div class="listingblock">
<div class="title"><a href="https://gitlab.com/clojure-book/code/-/raw/master/hello_world.clj">hello_world.clj</a></div>
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; hello_world.clj</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello World"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Save the code as <code>hello_world.clj</code>, in your terminal <code>cd</code> to that directory, then type this in terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ clj hello_world.clj</pre>
</div>
</div>
<div class="paragraph">
<p>The entire program will run, and you will see <code>Hello World</code> as output. I got this as output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ clj hello_world.clj
WARNING: Implicit use of clojure.main with options is deprecated, use -M
Hello World</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_structures">4. Data Structures</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Almost every programming language offers some way to pack, organize and access data in computer&#8217;s RAM <sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>, this eases the burden of programmers from writing lots of code to manage data stored in computer&#8217;s temporary memory.</p>
</div>
<div class="paragraph">
<p>String according to me is a data structure too. It enables us to represent any written language in computers memory, and helps us perform operations with it. In this section we are going to see about other data structures Clojure provides, which you can use it out of the box.</p>
</div>
<div class="sect2">
<h3 id="_vectors">4.1. Vectors</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/vectors.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/vectors.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Imagine racks with lot of compartments in it, the first compartment is labelled 0, the second 1 and so on. You can put something into this rack and get it back if you know the rack number aka the index. This is a kind of real world analog to vectors.</p>
</div>
<div class="paragraph">
<p>Look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="c1">; a very simple vector</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[1 2 3 4]</pre>
</div>
</div>
<div class="paragraph">
<p>This is how you represent a vector in Clojure. It start&#8217;s with a opening square braces <code>[</code> and ends with a closing one <code>]</code>, and any thing in between are the elements of the vector. In the above code you got 4 elements namely <code>1</code>, <code>2</code>, <code>3</code> and <code>4</code>.</p>
</div>
<div class="paragraph">
<p>Another way to create a vector is to pass stuff to a function called <code>vector</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">vector</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[1 2 3]</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code we have passed <code>1</code>, <code>2</code> and <code>3</code> to a the function vector and we have got out a vector <code>[1 2 3]</code>.</p>
</div>
<div class="paragraph">
<p>Till now we have seen creating vectors with numbers, in reality you can create vector with any type of value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="n">true</span><span class="w"> </span><span class="s">"Bashir"</span><span class="p">]</span><span class="w"> </span><span class="c1">; vector containing multiple data types</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[1 true "Bashir"]</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code we have created a three element vector with <code>1</code> which is a Long, <code>true</code> which is boolean (you will learn about them soon), and <code>"Bashir"</code> which is a String.</p>
</div>
<div class="paragraph">
<p>In the code below, we are defining a variable named <code>friends</code> and we are assigning a vector that contains four names to it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">friends</span><span class="w">
    </span><span class="p">[</span><span class="s">"Ram"</span><span class="w"> </span><span class="s">"Bashir"</span><span class="w"> </span><span class="s">"Antony"</span><span class="w"> </span><span class="s">"Buddha"</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/friends</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s see what is the first element of the vector <code>friends</code> is, for that we pass <code>friends</code> to a function named <code>first</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">friends</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Ram"</pre>
</div>
</div>
<div class="paragraph">
<p>and we get the first element in the vector.</p>
</div>
<div class="paragraph">
<p>There is a function called <code>rest</code> which when given a vector, omits the first element and returns the rest of the elements in the vector as shown belo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="n">friends</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>("Bashir" "Antony" "Buddha")</pre>
</div>
</div>
<div class="paragraph">
<p>As you see <code>"Ram"</code> is ignored as it&#8217;s the first element and the rest is returned.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s check the tyoe of <code>friends</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="n">friends</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>clojure.lang.PersistentVector</pre>
</div>
</div>
<div class="paragraph">
<p>Fro the output it seems clear that it&#8217;s a vector, but then let&#8217;s checkout what type the <code>rest</code> returns:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="n">friends</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>clojure.lang.PersistentVector$ChunkedSeq</pre>
</div>
</div>
<div class="paragraph">
<p>Though it seems to return <code>("Bashir" "Antony" "Buddha")</code>, which are not enclosed in square braces, on querying the type, it seems to be a chunk of the passed in vector.</p>
</div>
<div class="paragraph">
<p>We can access any element by it&#8217;s index in a vector using the <code>nth</code> function who&#8217;s first argument should be a vector and second should be the index number as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">nth</span><span class="w"> </span><span class="n">friends</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Buddha"</pre>
</div>
</div>
<div class="paragraph">
<p>If you see, at index <code>3</code> of <code>friends</code> is a String <code>"Buddha"</code>.</p>
</div>
<div class="paragraph">
<p>The third index can also be access like shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">friends</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Buddha"</pre>
</div>
</div>
<div class="paragraph">
<p>Doesn&#8217;t it look like when you did <code>(def friends &lt;a vector&gt;)</code>, clojure seems to have constructed a function called <code>friends</code> which can take a number, and the value at the index gets returned?</p>
</div>
<div class="paragraph">
<p>To add an element at the end of vector, use the function <code>conj</code> whcih takes in vector as first argument and the value to be added as the second:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">conj</span><span class="w"> </span><span class="n">friends</span><span class="w"> </span><span class="s">"Periyaar"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>["Ram" "Bashir" "Antony" "Buddha" "Periyaar"]</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code we have added <code>"Periyaar"</code> to friends, but this does not mean <code>friends</code> as been modified, we can print <code>friends</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">friends</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[Ram Bashir Antony Buddha]
nil</pre>
</div>
</div>
<div class="paragraph">
<p>and it still shows the old values without <code>"Periyaar"</code>, in reality Clojure constructs a new vector when we say <code>(conj friends "Periyaar")</code> and returns it out.</p>
</div>
<div class="paragraph">
<p>To add a element before a vector, use <code>cons</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="s">"Periyaar"</span><span class="w"> </span><span class="n">friends</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>("Periyaar" "Ram" "Bashir" "Antony" "Buddha")</pre>
</div>
</div>
<div class="paragraph">
<p>Does it modify <code>friends</code>? Now research what is immutability <sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup> in computing.</p>
</div>
<div class="sect3">
<h4 id="_exercise">4.1.1. Exercise</h4>
<div class="ulist">
<ul>
<li>
<p>How to get total number of elements in a vector?</p>
</li>
<li>
<p>What will happen if I give <code>(friends 42)</code>?</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lists">4.2. Lists</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/list.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/list.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Lists are just like vectors, now all you need to remember is a vector is set of things wrapped between square brackets <code>[</code> and <code>]</code>, a list is wrapped between round brackets <code>(</code> and <code>)</code>. In fact entire Clojure program is a list. Remember how we calculate \$3 + 5\$ in Clojure, it&#8217;s like this <code>(+ 3 5)</code>, it&#8217;s wrapped in round braces, and hence it&#8217;s a list.</p>
</div>
<div class="paragraph">
<p>Entire Cloujre code is nothing but a list. It has a open braces <code>(</code>, and a function to call. To add we use the <code>+</code> function, and so we have <code>(+</code>, this is followed by arguments that are passed to the function, so to add 3 with 5, we pass the arguments to function like this <code>(+ 3 5</code>, then this is followed by closing round braces <code>(+ 3 5)</code>, thus completing the list, which could be executed by the Clojure interpreter.</p>
</div>
<div class="paragraph">
<p>Take a look at the example below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="o">'</span><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(1 2 3 4)</pre>
</div>
</div>
<div class="paragraph">
<p>In the example above, we build a list of 4 numbers. But notice that we don&#8217;t start with a <code>(</code>, but we start with an apostrophe followed by bracket like this <code>'(</code>. This is to tell Clojure that not to execute the content in the bracket.</p>
</div>
<div class="paragraph">
<p>When you try it without an apostrophe, Clojure thinks <code>1</code> is a function and <code>2 3 4</code> are the arguments passed to it, and it tries to execute it and fails as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>; Execution error (ClassCastException) at lawyer/eval2148 (REPL:79).
; class java.lang.Long cannot be cast to class clojure.lang.IFn (java.lang.Long is in module java.base of loader 'bootstrap'; clojure.lang.IFn is in unnamed module of loader 'bootstrap')</pre>
</div>
</div>
<div class="paragraph">
<p>So the apostrophe before the round brackets is to tell the Clojure not to execute <code>'(1 2 3 4)</code>, but just treat it as a list.</p>
</div>
<div class="paragraph">
<p>You can also create a list using the <code>list</code> method as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(1 2 3)</pre>
</div>
</div>
<div class="paragraph">
<p>Above we pass <code>1</code>, <code>2</code>, and <code>3</code> to the <code>list</code> method, and we get a list returned.</p>
</div>
<div class="paragraph">
<p>In the code below, I am creating a list of four strings and assigning it to a variable <code>friends-list</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">friends-list</span><span class="w">
    </span><span class="o">'</span><span class="p">(</span><span class="s">"Ram"</span><span class="w"> </span><span class="s">"Bashir"</span><span class="w"> </span><span class="s">"Antony"</span><span class="w"> </span><span class="s">"Buddha"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/friends-list</pre>
</div>
</div>
<div class="paragraph">
<p>Note how I am using the apostrophe in the above <code>'("Ram" "Bashir" "Antony" "Buddha")</code>, to tell the Clojure interpreter, not to execute the list.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s see how many elements are there in <code>friends-list</code>. For that we use <code>count</code> as shown below and pass <code>friends-list</code> to it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="n">friends-list</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>4</pre>
</div>
</div>
<div class="paragraph">
<p>So <code>count</code> say there are four elements in <code>friends-list</code>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s get the first element in <code>friends-list</code>, for that we use function called <code>first</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">friends-list</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Ram"</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s get all elements except the first element in <code>friends-list</code>. For that we use the function <code>rest</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="n">friends-list</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>("Bashir" "Antony" "Buddha")</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s get the third element in <code>friends-list</code>. For that we use the function <code>nth</code>, which takes list as the first argument and the index to be fetched as the second argument.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">nth</span><span class="w"> </span><span class="n">friends-list</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Buddha"</pre>
</div>
</div>
<div class="paragraph">
<p>Note that list indexing starts from zero. That is the first element is indexed 0, second is 1 and so on.</p>
</div>
<div class="paragraph">
<p>In the example below, Let&#8217;s try to get the fourth element in <code>friends-list</code> by passing number 3 to it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">friends-list</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Execution error (ClassCastException) at user/eval5554 (REPL:1).
clojure.lang.PersistentList cannot be cast to clojure.lang.IFn


       core.clj:  3214 clojure.core$eval/invokeStatic

       core.clj:  3210 clojure.core$eval/invoke

       main.clj:   437 clojure.main$repl$read_eval_print__9086$fn__9089/invoke

       main.clj:   458 clojure.main$repl$fn__9095/invoke

       main.clj:   368 clojure.main$repl/doInvoke

    RestFn.java:  1523 clojure.lang.RestFn/invoke

       AFn.java:    22 clojure.lang.AFn/run

       AFn.java:    22 clojure.lang.AFn/run

    Thread.java:   745 java.lang.Thread/run</pre>
</div>
</div>
<div class="paragraph">
<p>and it fails.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s add an element to the list. For that we use method called <code>conj</code>, to it, we will pass the list to which the element should be appended, followed by the element which needs to appended to the list as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">conj</span><span class="w"> </span><span class="n">friends-list</span><span class="w"> </span><span class="s">"Periyaar"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>("Periyaar" "Ram" "Bashir" "Antony" "Buddha")</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sets">4.3. Sets</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/sets.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/sets.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Set is a collection of unique items. Imagine a list or a vector where no two item repeats, that&#8217;s a set. In Clojure you can create a set as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="o">#</span><span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#{1 4 3 2}</pre>
</div>
</div>
<div class="paragraph">
<p>A set starts a hash and curly braces <code><mark>{</code> followed by set items <code></mark>{1 2 3 4</code>, then it closes with a curly brace <code>#{1 2 3 4}</code>.</p>
</div>
<div class="paragraph">
<p>Below we query the type of set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="o">#</span><span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>clojure.lang.PersistentHashSet</pre>
</div>
</div>
<div class="paragraph">
<p>It returns something <code>clojure.lang.PersistentHashSet</code> that might be confusing to the beginner. Instead one can use the <code>set?</code> function to check if something is a set or not as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">set?</span><span class="w"> </span><span class="o">#</span><span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>Since <code>#{1 2 3 4}</code> is a set, it returns true.</p>
</div>
<div class="paragraph">
<p>A set can have only unique elements. So if we try to create a set with non-unique elements, it will throw an error as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="o">#</span><span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">4</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Syntax error reading source at (REPL:1:13).
Duplicate key: 4


    PersistentHashSet.java:    68 clojure.lang.PersistentHashSet/createWithCheck

           LispReader.java:  1366 clojure.lang.LispReader$SetReader/invoke

           LispReader.java:   853 clojure.lang.LispReader$DispatchReader/invoke

           LispReader.java:   285 clojure.lang.LispReader/read

                  core.clj:  3768 clojure.core$read/invokeStatic

                  core.clj:  3741 clojure.core$read/invoke

                  main.clj:   433 clojure.main$repl$read_eval_print__9086$fn__9087/invoke

                  main.clj:   432 clojure.main$repl$read_eval_print__9086/invoke

                  main.clj:   458 clojure.main$repl$fn__9095/invoke

                  main.clj:   368 clojure.main$repl/doInvoke

               RestFn.java:  1523 clojure.lang.RestFn/invoke

                  AFn.java:    22 clojure.lang.AFn/run

                  AFn.java:    22 clojure.lang.AFn/run

               Thread.java:   745 java.lang.Thread/run</pre>
</div>
</div>
<div class="paragraph">
<p>Once again we create a set of unique fruit names:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="o">#</span><span class="p">{</span><span class="s">"Apple"</span><span class="w"> </span><span class="s">"Orange"</span><span class="w"> </span><span class="s">"Mango"</span><span class="w"> </span><span class="s">"Banana"</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#{"Mango" "Orange" "Apple" "Banana"}</pre>
</div>
</div>
<div class="paragraph">
<p>Now when we try to create a similar set with a duplicate element <code>"Apple"</code> it throws an error as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="o">#</span><span class="p">{</span><span class="s">"Apple"</span><span class="w"> </span><span class="s">"Orange"</span><span class="w"> </span><span class="s">"Mango"</span><span class="w"> </span><span class="s">"Banana"</span><span class="w"> </span><span class="s">"Apple"</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Syntax error reading source at (REPL:1:45).
Duplicate key: Apple


    PersistentHashSet.java:    68 clojure.lang.PersistentHashSet/createWithCheck

           LispReader.java:  1366 clojure.lang.LispReader$SetReader/invoke

           LispReader.java:   853 clojure.lang.LispReader$DispatchReader/invoke

           LispReader.java:   285 clojure.lang.LispReader/read

                  core.clj:  3768 clojure.core$read/invokeStatic

                  core.clj:  3741 clojure.core$read/invoke

                  main.clj:   433 clojure.main$repl$read_eval_print__9086$fn__9087/invoke

                  main.clj:   432 clojure.main$repl$read_eval_print__9086/invoke

                  main.clj:   458 clojure.main$repl$fn__9095/invoke

                  main.clj:   368 clojure.main$repl/doInvoke

               RestFn.java:  1523 clojure.lang.RestFn/invoke

                  AFn.java:    22 clojure.lang.AFn/run

                  AFn.java:    22 clojure.lang.AFn/run

               Thread.java:   745 java.lang.Thread/run</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s create a set of fruit names and assign it to a variable named <code>fruits</code> ash shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">fruits</span><span class="w"> </span><span class="o">#</span><span class="p">{</span><span class="s">"Apple"</span><span class="w"> </span><span class="s">"Orange"</span><span class="w"> </span><span class="s">"Mango"</span><span class="w"> </span><span class="s">"Banana"</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/fruits</pre>
</div>
</div>
<div class="paragraph">
<p>Now we can check if <code>fruits</code> contains "Banana" as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">contains?</span><span class="w"> </span><span class="n">fruits</span><span class="w"> </span><span class="s">"Banana"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>It returns true since <code>fruits</code> does contain <code>"Banana"</code>.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s check if <code>fruits</code> contains "Jack Fruit":</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">contains?</span><span class="w"> </span><span class="n">fruits</span><span class="w"> </span><span class="s">"Jack Fruit"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>It returns <code>false</code>, as "Jack Fruit" is not part of <code>fruits</code>.</p>
</div>
<div class="paragraph">
<p>You can also check if a set contains an element as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">fruits</span><span class="w"> </span><span class="s">"Banana"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Banana"</pre>
</div>
</div>
<div class="paragraph">
<p>In the code above we pass <code>"Banana"</code> to <code>fruits</code> and it returns <code>"Banana"</code> since <code>"Banana"</code> is in fruits.</p>
</div>
<div class="paragraph">
<p>When we pass <code>"Jack Fruit"</code> to <code>fruits</code>, it returns a <code>nil</code> or nothing since <code>"Jack Fruit"</code> is not in fruits:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">fruits</span><span class="w"> </span><span class="s">"Jack Fruit"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nil</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s try to see if <code>fruits</code> contains <code>"Banana"</code> by passing <code>fruits</code> to <code>"Banana"</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="s">"Banana"</span><span class="w"> </span><span class="n">fruits</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Execution error (ClassCastException) at user/eval5624 (REPL:1).
java.lang.String cannot be cast to clojure.lang.IFn


       core.clj:  3214 clojure.core$eval/invokeStatic

       core.clj:  3210 clojure.core$eval/invoke

       main.clj:   437 clojure.main$repl$read_eval_print__9086$fn__9089/invoke

       main.clj:   458 clojure.main$repl$fn__9095/invoke

       main.clj:   368 clojure.main$repl/doInvoke

    RestFn.java:  1523 clojure.lang.RestFn/invoke

       AFn.java:    22 clojure.lang.AFn/run

       AFn.java:    22 clojure.lang.AFn/run

    Thread.java:   745 java.lang.Thread/run</pre>
</div>
</div>
<div class="paragraph">
<p>It fails.</p>
</div>
<div class="paragraph">
<p>There is a thing called keywords in Clojure. Their syntax is colon followed by some stuff <code>:&lt;some-stuff&gt;</code>, say if we want a set of programming languages, we can define it as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">programming-languages</span><span class="w"> </span><span class="o">#</span><span class="p">{</span><span class="no">:ruby</span><span class="w"> </span><span class="no">:python</span><span class="w"> </span><span class="no">:clojure</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/programming-languages</pre>
</div>
</div>
<div class="paragraph">
<p>Here every element in <code>programming-languages</code> is a keyword.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s check if <code>programming-languages</code> contains <code>:ruby</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">contains?</span><span class="w"> </span><span class="n">programming-languages</span><span class="w"> </span><span class="no">:ruby</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>It does.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s check if it contains <code>:java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">contains?</span><span class="w"> </span><span class="n">programming-languages</span><span class="w"> </span><span class="no">:java</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>It does not.</p>
</div>
<div class="paragraph">
<p>You can also see if a element exists in <code>programming-languages</code> by passing that element to it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">programming-languages</span><span class="w"> </span><span class="no">:ruby</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:ruby</pre>
</div>
</div>
<div class="paragraph">
<p>Since <code>:ruby</code> is in <code>programming-languages</code>, it gets returned.</p>
</div>
<div class="paragraph">
<p><code>:ruby</code> is a keyword. So has some special properties compared to string. If you remember checking if <code>"Banana"</code> exists in <code>fruits</code> using the code <code>("Banana" fruits)</code> fails, but checking if <code>:ruby</code> exists in <code>programming-languages</code> will work as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="no">:ruby</span><span class="w"> </span><span class="n">programming-languages</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:ruby</pre>
</div>
</div>
<div class="paragraph">
<p>We can add a element to a set using the function <code>conj</code>, followed by the set <code>programming-languages</code> in this case and let&#8217;s add <code>:perl</code> to it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">conj</span><span class="w"> </span><span class="n">programming-languages</span><span class="w"> </span><span class="no">:perl</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#{:clojure :python :perl :ruby}</pre>
</div>
</div>
<div class="paragraph">
<p>We can remove an element from a set using the function <code>disj</code>, followed by the set <code>programming-languages</code> in this case and let&#8217;s remove <code>:perl</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">disj</span><span class="w"> </span><span class="n">programming-languages</span><span class="w"> </span><span class="no">:perl</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#{:clojure :python :ruby}</pre>
</div>
</div>
<div class="paragraph">
<p>So that&#8217;s it about set&#8217;s for now.</p>
</div>
</div>
<div class="sect2">
<h3 id="_maps">4.4. Maps</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/maps.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/maps.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Lists and vectors can be accessed with numeric index, say in the below code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">nums</span><span class="w"> </span><span class="p">[</span><span class="s">"zero"</span><span class="w"> </span><span class="s">"one"</span><span class="w"> </span><span class="s">"two"</span><span class="w"> </span><span class="s">"three"</span><span class="w"> </span><span class="s">"four"</span><span class="w"> </span><span class="s">"five"</span><span class="w"> </span><span class="s">"six"</span><span class="p">])</span><span class="w">

</span><span class="p">(</span><span class="nb">nth</span><span class="w"> </span><span class="n">nums</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"five"</pre>
</div>
</div>
<div class="paragraph">
<p>We get <code>"five"</code> as output. But what if we want something user-friendly words as index for our data collection? Enter the world of maps.</p>
</div>
<div class="paragraph">
<p>Look at the code below, type it and execute it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">{</span><span class="w"> </span><span class="s">"name"</span><span class="w"> </span><span class="s">"Bashir"</span><span class="w"> </span><span class="s">"age"</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"name" "Bashir", "age" 12}</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code we create a map, its first element has key "name" and value "Bashir", the second element has key "age" and value 12.</p>
</div>
<div class="paragraph">
<p>Rather than using curly brackets, we can create a map by passing keys and values to a function called hash map as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">hash-map</span><span class="w"> </span><span class="s">"name"</span><span class="w"> </span><span class="s">"Bashir"</span><span class="w">
          </span><span class="s">"age"</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"age" 20, "name" "Bashir"}</pre>
</div>
</div>
<div class="paragraph">
<p>The function <code>hash-map</code> receives keys as odd arguments and values as even arguments. So in the code above <code>"name"</code> is mapped to <code>"Bashir"</code> and key <code>"age"</code> is mapped to value 20.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s create a map and assign it to a variable <code>friend</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">friend</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">"name"</span><span class="w"> </span><span class="s">"Bashir"</span><span class="w"> </span><span class="s">"age"</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/friend</pre>
</div>
</div>
<div class="paragraph">
<p>Now we get <code>"name"</code> of <code>friend</code> using the <code>get</code> method to which we first pass the map and the second argument is the key to be fetched.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">get</span><span class="w"> </span><span class="n">friend</span><span class="w"> </span><span class="s">"name"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Bashir"</pre>
</div>
</div>
<div class="paragraph">
<p>So the code above looks for key <code>"name"</code> in <code>friend</code>, its corresponding value is <code>"Bashir"</code> which gets returned out.</p>
</div>
<div class="paragraph">
<p>There is also a shortcut to get value from a map, just treat map as a function and pass key to it as a shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">friend</span><span class="w"> </span><span class="s">"name"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Bashir"</pre>
</div>
</div>
<div class="paragraph">
<p>So the example above we have map <code>friend</code>, and to it, we are passing the key <code>"name"</code>, and it returns the mapped value <code>"Bashir"</code>.</p>
</div>
<div class="paragraph">
<p>Now the type of <code>"name"</code> is string as you can see below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="s">"name"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java.lang.String</pre>
</div>
</div>
<div class="paragraph">
<p>There is another thing called keyword, that is preceded by a colon <code>:</code> followed by the name of the keyword. So as you see below <code>:name</code> is a keyword:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="no">:name</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>clojure.lang.Keyword</pre>
</div>
</div>
<div class="paragraph">
<p>Now rather using strings as key&#8217;s, let&#8217;s create a map with keywords as keys as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">wise-friend</span><span class="w"> </span><span class="p">{</span><span class="no">:name</span><span class="w"> </span><span class="s">"Periyaar"</span><span class="w">
                  </span><span class="no">:age</span><span class="w"> </span><span class="mi">90</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/wise-friend</pre>
</div>
</div>
<div class="paragraph">
<p>In the code above, we create a map with key <code>:name</code>, which is mapped to "Periyaar"; and key <code>:age</code> is mapped to 20. We assign it to <code>wise-friend</code>.</p>
</div>
<div class="paragraph">
<p>Now we can get the <code>:name</code> of <code>wise-friend</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">wise-friend</span><span class="w"> </span><span class="no">:name</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Periyaar"</pre>
</div>
</div>
<div class="paragraph">
<p>We can get <code>:age</code> of <code>wise-friend</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">get</span><span class="w"> </span><span class="n">wise-friend</span><span class="w"> </span><span class="no">:age</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>90</pre>
</div>
</div>
<div class="paragraph">
<p>In the above example e use <code>get</code> function, to it the map is passed as the first argument, and key is passed as the second argument.</p>
</div>
<div class="paragraph">
<p>In the below example, we extract name of <code>wise-friend</code> using <code>(wise-friend :name)</code> and pass it to <code>print</code>, we also pass a second argument <code>"is very wise."</code> to <code>print</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">print</span><span class="w"> </span><span class="p">(</span><span class="nf">wise-friend</span><span class="w"> </span><span class="no">:name</span><span class="p">)</span><span class="w">
       </span><span class="s">"is very wise."</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Periyaar is very wise.nil</pre>
</div>
</div>
<div class="paragraph">
<p>We get <code>Periyaar is very wise.nil</code> printed out. Replace <code>print</code> with <code>println</code> in the example above. What do you observe?</p>
</div>
<div class="paragraph">
<p>Since we use keywords as keys in <code>wise-friend</code>, getting value of a key is possible as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="no">:name</span><span class="w"> </span><span class="n">wise-friend</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Periyaar"</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code we treat <code>:name</code> as a function, and we pass the map <code>wise-friend</code> to it, and it fetches the value.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s add a new key and value to <code>wise-friend</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">assoc</span><span class="w"> </span><span class="n">wise-friend</span><span class="w"> </span><span class="no">:belief</span><span class="w"> </span><span class="s">"Rationalism"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{:name "Periyaar", :age 90, :belief "Rationalism"}</pre>
</div>
</div>
<div class="paragraph">
<p>In the code above we have the <code>assoc</code> function, which we can call associate. To it we pass the map <code>wise-friend</code>, then we pass the key <code>:belief</code> and value <code>"Rationalism"</code> to it. In Clojure, things are immutable. The above operation returned a new map <code>{:name "Periyaar", :age 90, :belief "Rationalism"}</code>, and since we did not define it to any variable it&#8217;s just lost. One might not think <code>wise-friend</code> got a new key and value. In fact if you query <code>wise-friend</code> for <code>:belief</code>, it would say nothing is there:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">wise-friend</span><span class="w"> </span><span class="no">:belief</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nil</pre>
</div>
</div>
<div class="paragraph">
<p>All old values of <code>wise-friend</code> are still intact, let&#8217;s query its age:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">wise-friend</span><span class="w"> </span><span class="no">:age</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>90</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s remove a key, value pair from wise friend as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">dissoc</span><span class="w"> </span><span class="n">wise-friend</span><span class="w"> </span><span class="no">:age</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{:name "Periyaar"}</pre>
</div>
</div>
<div class="paragraph">
<p>In the code above we remove <code>:age</code> from <code>wise-friend</code> and we get an output map containing only the <code>:name</code>. Once again you must not think Clojure changed <code>wise-friend</code>. <code>dissoc</code> (or disassociate) took <code>wise-friend</code> as first argument, and key to be removed as second, and it created a new map without the passed key and returned it. In Clojure things don&#8217;t mutate.</p>
</div>
<div class="paragraph">
<p>If we query the keys of  <code>wise-friend</code> we still get <code>:name</code> and <code>:age</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">keys</span><span class="w"> </span><span class="n">wise-friend</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(:name :age)</pre>
</div>
</div>
<div class="paragraph">
<p>To get values stored in amp, pass it to <code>vals</code> function as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">vals</span><span class="w"> </span><span class="n">wise-friend</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>("Periyaar" 90)</pre>
</div>
</div>
<div class="paragraph">
<p><code>wise-friend</code> has key <code>:name</code> which is of type keyword, "name" is of type string. So you can have a array with keyword and string spelled the same. As you see below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">assoc</span><span class="w"> </span><span class="n">wise-friend</span><span class="w"> </span><span class="s">"name"</span><span class="w"> </span><span class="s">"Ramasamy"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{:name "Periyaar", :age 90, "name" "Ramasamy"}</pre>
</div>
</div>
<div class="paragraph">
<p>By adding <code>"name"</code> as key and associating a value "Ramasamy" to it, we are creating a map with keys <code>:name</code> and <code>"name"</code>. though such kind of tricks are possible, it&#8217;s highly discouraged for the sake of clarity in code.</p>
</div>
</div>
<div class="sect2">
<h3 id="_difference_between_vectors_and_lists">4.5. Difference Between Vectors and Lists</h3>
<div class="paragraph">
<p>If you had seen past few sections, you would have noticed vector is created by putting things between square brackets, and we can create a list by putting things between <code>'(</code> and <code>)</code>. Apart from that all operations are the same. So what&#8217;s the real difference?</p>
</div>
<div class="paragraph">
<p>Imagine vector is a rack. Each compartment of the rack is named 0, 1, 2 and so on till n.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/vector.png" alt="vector">
</div>
</div>
<div class="paragraph">
<p>You can put anything in the compartment that&#8217;s after the last filled one. See the example below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="p">[</span><span class="s">"zero"</span><span class="w"> </span><span class="s">"one"</span><span class="w"> </span><span class="s">"two"</span><span class="w"> </span><span class="s">"three"</span><span class="w"> </span><span class="s">"four"</span><span class="p">])</span><span class="w">
</span><span class="p">(</span><span class="nb">conj</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="s">"five"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">[</span><span class="s">"zero"</span><span class="w"> </span><span class="s">"one"</span><span class="w"> </span><span class="s">"two"</span><span class="w"> </span><span class="s">"three"</span><span class="w"> </span><span class="s">"four"</span><span class="w"> </span><span class="s">"five"</span><span class="p">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above code, we add <code>"five"</code> to <code>numbers</code> and Clojure adds it to the last. A vector is a huge rack of contiguous spaces. Clojure can easily access any of the rack very easily because it&#8217;s stored in a compact form in the memory. So even if you have a million element vector accessing the 7,546<sup>&gt;th</sup> is fast in Clojure. Like every thing this comes with a catch. Say you have a million element vector, and you want to add another element, if the adjacent space in memory is not available and is occupied by some other thing, Clojure should do the huge work finding continuous free space, then it must move all elements to it and add the new value at the end. This process of moving around data is very costly.</p>
</div>
<div class="paragraph">
<p>So if speed of random access with index is not important, and you need only sequential access, and if you want to add a lot of values to your collection, and you have large list to be stored, consider list.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/list_element.png" alt="list element">
</div>
</div>
<div class="paragraph">
<p>An element in a list has two parts. One is the value, and another one is a pointer to the next element. So elements of a list can be anywhere in your computer memory as shown below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/list.png" alt="list">
</div>
</div>
<div class="paragraph">
<p>Adding a new element means it will have the value you push to it, and its pointer will point to current first element. So now the new value is the first element of the list. The drawback is, if you want to access the n<sup>th</sup> element of a list, then Clojure needs to traverse through n - 1 elements to get to it. The positive is adding element is very easy.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reading_clojure_documentation">5. Reading Clojure Documentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The fact that you are reading this book is because, this book documents something about Clojure. In programming, documentation is very important, almost all programming languages have a way of documenting and a way of accessing it. Clojure is no different. In this section we will see how to access Clojure&#8217;s documentation.</p>
</div>
<div class="sect2">
<h3 id="_doc">5.1. doc</h3>
<div class="paragraph">
<p>Clojure has a function named <code>doc</code>, to it, you pass any valid function name, in the below we pass <code>+</code> to <code>doc</code> and its documentation gets printed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">doc</span><span class="w"> </span><span class="nb">+</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>clojure.core/+
([] [x] [x y] [x y &amp; more])
  Returns the sum of nums. (+) returns 0. Does not auto-promote
  longs, will throw on overflow. See also: +'
nil</pre>
</div>
</div>
<div class="paragraph">
<p>From the above documentation I know <code>+</code> can receive no argument and might return a zero:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0</pre>
</div>
</div>
<div class="paragraph">
<p>Which seems to be true as shown above. I also infer <code>+</code> receives a single argument and returns the number:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">42</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>42</pre>
</div>
</div>
<div class="paragraph">
<p>Which also seems to be true. Then I infer <code>+</code> receives a two or more arguments and returns its sum, which also is verified in the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>42</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>42</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_find_doc">5.2. find-doc</h3>
<div class="paragraph">
<p>If you want to search the entire Clojure documentation text, you can use the <code>find-doc</code> method as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">find-doc</span><span class="w"> </span><span class="s">"sum of nums"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>clojure.core/+
([] [x] [x y] [x y &amp; more])
  Returns the sum of nums. (+) returns 0. Does not auto-promote
  longs, will throw on overflow. See also: +'
-------------------------
clojure.core/+'
([] [x] [x y] [x y &amp; more])
  Returns the sum of nums. (+') returns 0. Supports arbitrary precision.
  See also: +
nil
clj꞉user꞉&gt; 
-------------------------
clojure.core/+
([] [x] [x y] [x y &amp; more])
  Returns the sum of nums. (+) returns 0. Does not auto-promote
  longs, will throw on overflow. See also: +'
-------------------------
clojure.core/+'
([] [x] [x y] [x y &amp; more])
  Returns the sum of nums. (+') returns 0. Supports arbitrary precision.
  See also: +</pre>
</div>
</div>
<div class="paragraph">
<p>Above I have found functions whose documentation contains the string sum of nums.</p>
</div>
</div>
<div class="sect2">
<h3 id="_apropos">5.3. apropos</h3>
<div class="paragraph">
<p>If you want to search for functions whose name contain certain piece of string, use the <code>apropos</code> function as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">apropos</span><span class="w"> </span><span class="s">"replace"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(clojure.core/replace clojure.string/re-quote-replacement clojure.string/replace clojure.string/replace-first clojure.walk/postwalk-replace clojure.walk/prewalk-replace clojure.zip/replace)</pre>
</div>
</div>
<div class="paragraph">
<p>Above, I have use the <code>apropos</code> function to find all functions whose name contains the string <code>"replace"</code>. Now below I check the documentation of the function <code>replace</code> to reveal what it does:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">doc</span><span class="w"> </span><span class="nb">replace</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-------------------------
clojure.core/replace
([smap] [smap coll])
  Given a map of replacement pairs and a vector/collection, returns a
  vector/seq with any elements = a key in smap replaced with the
  corresponding val in smap.  Returns a transducer when no collection
  is provided.
nil</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_clojure_docs_online">5.4. Clojure docs online</h3>
<div class="paragraph">
<p>If one is not comfortable to use Clojure REPL to access documentation, one may use Clojure&#8217;s online documentation which is available on <a href="https://clojuredocs.org/" class="bare">https://clojuredocs.org/</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clojuredocs.png" alt="clojuredocs">
</div>
</div>
<div class="paragraph">
<p>If you see the image below, I have searched for reduce, and it shows all functions who names have the word reduce in them.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clojuredocs_2.png" alt="clojuredocs 2">
</div>
</div>
<div class="paragraph">
<p>I clicked on <code>reduce</code> and below you can see that Clojure shows documentation for it:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clojuredocs_3.png" alt="clojuredocs 3">
</div>
</div>
<div class="paragraph">
<p>Clojure docs is a convenient way access documentation on the browser.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_logic_and_comparison">6. Logic and comparison</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/logic-and-comparison.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/logic-and-comparison.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Clojure comes with functions that helps us to compare stuff. For exa,ple you can use the equal to <code>=</code> function to check if two things are equal as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>Since 1 is equal to 1, the above code returns <code>true</code>. in the code below, 1 is not equal to 2 and hence <code>=</code> returns <code>false</code> when <code>1</code> and <code>2</code> are passed as arguments to it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p><code>=</code> does not just compare two arguments, you can pass any number of arguments to it, and it returns <code>true`</code> only when all arguments are equal.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>The greater than <code>&gt;</code> function is used to check if the first argument passed to it is greater than the second one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>If you provide it with more than one argument, it will check if the arguments are passed in descending order, if yes it will return <code>true</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>The greater than or equal to <code>&gt;=</code> function returns if the arguments passed to it either greater than or equal to the second one. In the code below, 5 is equal to 5 and hence it will return <code>true</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&gt;=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>In example below 6 is greater than 5 and hence it&#8217;s <code>true</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&gt;=</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>The code below returns <code>false</code> because 6 is neither greater than 7 nor it&#8217;s equal to 7:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&gt;=</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>The less than function <code>&lt;</code> returns <code>true</code> if the arguments passed to it are in ascending order. Below 1 is less than 2 so <code>true</code> is returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>In ht example below, 1 is less than 2, which is less than 3 and hence <code>true</code> is returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>2 is not less than 1 and hence the code below returns <code>false</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>The code below returns <code>false</code> because 1, 3 and 2 are not passed to <code>&gt;</code> in ascending order:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>The code below returns <code>true</code> because 7 is equal to 7:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>the code below returns <code>true</code>, because 7 is less than 8, if not equal to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>The code below returns false because 8 is neither less than 7 nor its equal to it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s come to logical functions, the <code>and</code> function returns <code>true</code>, if all the arguments passed to it are <code>true</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">and</span><span class="w"> </span><span class="n">true</span><span class="w"> </span><span class="n">true</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>If any of the argument passed to <code>and</code> is <code>false</code>, it returns <code>false</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">and</span><span class="w">  </span><span class="n">true</span><span class="w"> </span><span class="n">false</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>or</code> function returns <code>true</code> if any of the argument passed to it is <code>true</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">or</span><span class="w"> </span><span class="n">true</span><span class="w"> </span><span class="n">true</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">or</span><span class="w"> </span><span class="n">true</span><span class="w"> </span><span class="n">false</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">or</span><span class="w"> </span><span class="n">false</span><span class="w"> </span><span class="n">false</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>The not simply inverts <code>true</code> to <code>false</code> and vice versa:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">not</span><span class="w"> </span><span class="n">true</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">not</span><span class="w"> </span><span class="n">false</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conditions_and_branching">7. Conditions and branching</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In programming depending on the data or information you gained, the program flow should alter its execution. Say every one can visit landing page of a website, but when trying to visit a secured page if the person is not logged in he must be challenged with a login screen. For such kind of cases we need to check for conditions and depending on it, we need to branch.</p>
</div>
<div class="paragraph">
<p>In this section we will see how to do it.</p>
</div>
<div class="sect2">
<h3 id="_if">7.1. if</h3>
<div class="paragraph">
<p><code>if</code> is one of the basic condition checking functions in Clojure. Let&#8217;s try out a simple example. Execute the code shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; if.clj</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is positive"</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>5 is positive
nil</pre>
</div>
</div>
<div class="paragraph">
<p>We get the result <code>5 is positive</code> as shown above. So we get the following, to an <code>if</code> the first argument is condition check, over here its <code>(&gt; a 0)</code>, if the condition check returns <code>true</code>, then the second argument passed <code>(println a "is positive")</code> is executed.</p>
</div>
<div class="paragraph">
<p>Now modify the program as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; if.clj</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="mi">-5</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is positive"</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nil</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code, <code>a</code> is <code>-5</code> and hence <code>(&gt; a 0)</code> fails. In theory then the third argument passed to <code>if</code> should execute, we have first argument <code>(&gt; a 0)</code>, and second argument <code>(println a "is positive")</code>, there is no third argument, so <code>nil</code> gets returned.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s give a third argument to it, see the code below and execute it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; if_else.clj</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="mi">-5</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is positive"</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is negative"</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-5 is negative
nil</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code <code>a</code> is <code>-5</code> and hence <code>(&gt; a 0)</code> fails. In then the third argument should execute. In this case, the third argument is <code>(println a "is negative")</code> gets executed and <code>-5 is negative</code> gets printed out.</p>
</div>
<div class="paragraph">
<p>Take a look at ehe code below, execute it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; if_nested.clj</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is positive"</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is negative"</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is neither positive nor negative"</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>5 is positive
nil</pre>
</div>
</div>
<div class="paragraph">
<p>So in the above code <code>(&gt; a 0)</code> is <code>true</code>, so the first argument passed to it <code>(println a "is positive")</code> is executed and above output is printed.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s change <code>a</code> to <code>-5</code> and see what happens.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; if_nested.clj</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="mi">-5</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is positive"</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is negative"</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is neither positive nor negative"</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-5 is negative
nil</pre>
</div>
</div>
<div class="paragraph">
<p>So the second argument passed to <code>if</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is negative"</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is neither positive nor negative"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This argument itself contains a <code>if</code>, let&#8217;s call it nested if, and here the condition passed to it <code>(&lt; a 0)</code> passes, so the second argument passed to the nested if <code>(println a "is negative")</code> gets executed and <code>-5 is negative</code> gets printed out.</p>
</div>
<div class="paragraph">
<p>Now what if <code>a</code> is zero, once again it comes to the second argument to the top level <code>if</code>, which is</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is negative"</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is neither positive nor negative"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the code above <code>(&lt; a 0)</code> fails, and the third argument passed to nested <code>if</code> <code>(println a "is neither positive nor negative")</code> gets executed, and we have execution as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; if_nested.clj</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is positive"</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is negative"</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is neither positive nor negative"</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0 is neither positive nor negative
nil</pre>
</div>
</div>
<div class="paragraph">
<p><code>if</code> function can accept only 3 arguments, the first one is a condition, the second argument will get executed when the condition passes, the third will get executed when condition fails. So what if we want to execute more than one statement if a condition passes or fails, well, wrap them in <code>do</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; if_multiple_statements_in_branch.clj</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">

    </span><span class="p">(</span><span class="nf">do</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is positive"</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"There are infinite positive numbers"</span><span class="p">))</span><span class="w">

    </span><span class="p">(</span><span class="nf">do</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is negative"</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"There are infinite negative numbers"</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>5 is positive
There are infinite positive numbers
nil</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s make <code>a</code> negative and execute it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; if_multiple_statements_in_branch.clj</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="mi">-5</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">

    </span><span class="p">(</span><span class="nf">do</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is positive"</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"There are infinite positive numbers"</span><span class="p">))</span><span class="w">

    </span><span class="p">(</span><span class="nf">do</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"is negative"</span><span class="p">)</span><span class="w">
      </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"There are infinite negative numbers"</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-5 is negative
There are infinite negative numbers
nil</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_when">7.2. when</h3>
<div class="paragraph">
<p><code>if</code> accepts a condition as first argument, as second it accepts what should be done if the condition is <code>true</code>, and third is what should be done if the condition is <code>false</code>. <code>if</code> does work when the third argument is left out, but if we want to execute a bunch of statements when condition is <code>true</code>, then we can use <code>when</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; when.clj</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">print-something</span><span class="w"> </span><span class="n">true</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">when</span><span class="w"> </span><span class="n">print-something</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"I print something."</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"I print other things too."</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>I print something.
I print other things too.
nil</pre>
</div>
</div>
<div class="paragraph">
<p>Type the above program and execute it. When <code>print-something</code> is <code>true</code>, then the statements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"I print something."</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"I print other things too."</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>in the form</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">when</span><span class="w"> </span><span class="n">print-something</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"I print something."</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"I print other things too."</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>gets executed and we get the output shown above.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s set <code>print-something</code> to <code>false</code> as shown below and execute the code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; when.clj</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">print-something</span><span class="w"> </span><span class="n">false</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">when</span><span class="w"> </span><span class="n">print-something</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"I print something."</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"I print other things too."</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nil</pre>
</div>
</div>
<div class="paragraph">
<p>Nothing gets printed. So if the first argument passed to <code>when</code> is true, all statements enclosed in its form gets executed, else nothing happens.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cond">7.3. cond</h3>
<div class="paragraph">
<p>What if you want to check multiple conditions and make your code execute according to it. Welcome to <code>cond</code> or condition. Take a look at the program below and execute it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; cond.clj</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">number</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">cond</span><span class="w">
    </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="s">"is positive."</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="s">"is negative."</span><span class="p">)</span><span class="w">
    </span><span class="no">:else</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="s">"is neither positive nor negative."</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>5 is positive.
nil</pre>
</div>
</div>
<div class="paragraph">
<p>It prints <code>5 is positive</code>. That&#8217;s because we have set <code>number</code> as <code>5</code> in <code>let [number 5]</code>. Then the <code>cond</code> form is coded like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">cond</span><span class="w">
    </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="s">"is positive."</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="s">"is negative."</span><span class="p">)</span><span class="w">
    </span><span class="no">:else</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="s">"is neither positive nor negative."</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above piece of code, when <code>number</code> is greater than <code>0</code>, it satisfies the condition <code>(&gt; number 0)</code> and the code next to it <code>(println number "is positive.")</code> gets executed.</p>
</div>
<div class="paragraph">
<p>Change <code>number</code> to negative and execute it, see what happens and explain it. When no condition is satisfied the else part:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="no">:else</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="s">"is neither positive nor negative."</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>gets executed. Make <code>number</code> as <code>0</code> and execute it, see what happens.</p>
</div>
<div class="paragraph">
<p>Execute the code below and explain it to yourself.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">number</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">cond</span><span class="w">
    </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="s">"is positive."</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="s">"is negative."</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Make <code>number</code> as <code>0</code> execute it and see what happens.</p>
</div>
</div>
<div class="sect2">
<h3 id="_case">7.4. case</h3>
<div class="paragraph">
<p>Below is an example of <code>case</code>, type it and execute it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; case.clj</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">num</span><span class="w"> </span><span class="mi">20</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nf">case</span><span class="w"> </span><span class="n">num</span><span class="w">
    </span><span class="mi">1</span><span class="w"> </span><span class="s">"one"</span><span class="w">
    </span><span class="mi">2</span><span class="w"> </span><span class="s">"two"</span><span class="w">
    </span><span class="mi">3</span><span class="w"> </span><span class="s">"three"</span><span class="w">
    </span><span class="mi">4</span><span class="w"> </span><span class="s">"four"</span><span class="w">
    </span><span class="mi">5</span><span class="w"> </span><span class="s">"five"</span><span class="w">
    </span><span class="s">"I don't know"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"I don't know"</pre>
</div>
</div>
<div class="paragraph">
<p>We get <code>"I don&#8217;t know"</code>, so what happens. We have set <code>num</code> to <code>20 in `let [num 20]</code>, then we pass <code>num</code> to <code>case</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">case</span><span class="w"> </span><span class="n">num</span><span class="w">
  </span><span class="n">........</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So case check the value of <code>num</code>, <code>num</code> is not <code>1</code>, so the statement <code>1 "one"</code> is not touched.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">case</span><span class="w"> </span><span class="n">num</span><span class="w">
    </span><span class="mi">1</span><span class="w"> </span><span class="s">"one"</span><span class="w">
    </span><span class="n">........</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, <code>num</code> is not <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code>, so the all the statements below is not touched.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">case</span><span class="w"> </span><span class="n">num</span><span class="w">
  </span><span class="mi">1</span><span class="w"> </span><span class="s">"one"</span><span class="w">
  </span><span class="mi">2</span><span class="w"> </span><span class="s">"two"</span><span class="w">
  </span><span class="mi">3</span><span class="w"> </span><span class="s">"three"</span><span class="w">
  </span><span class="mi">4</span><span class="w"> </span><span class="s">"four"</span><span class="w">
  </span><span class="mi">5</span><span class="w"> </span><span class="s">"five"</span><span class="w">
  </span><span class="n">........</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So finally the else part "I don&#8217;t know" is executed as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">case</span><span class="w"> </span><span class="n">num</span><span class="w">
    </span><span class="n">........</span><span class="w">
    </span><span class="s">"I don't know"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and it gets returned.</p>
</div>
<div class="paragraph">
<p>As an exercise, remove the "I don&#8217;t know" and run the code. What do you get? Change <code>num</code> to <code>4</code> and run the code what do you get? How can you explain it?</p>
</div>
<div class="paragraph">
<p>When <code>num</code> is <code>4</code>, and <code>"I don&#8217;t know"</code> is removed, does it matter? Why?</p>
</div>
<div class="paragraph">
<p>When <code>num</code> is <code>20</code>, and <code>"I don&#8217;t know"</code> is removed, does it matter? Why?</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_loops">8. Loops</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/loops.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/loops.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In programming, when you need to do stuff again and again, you use a thing called loops. In this section we will be seeing about it.</p>
</div>
<div class="sect2">
<h3 id="_for">8.1. for</h3>
<div class="paragraph">
<p>The first loop we are going to see if <code>for</code>, type the code below and execute it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">nums</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">]]</span><span class="w">
  </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">num</span><span class="w"> </span><span class="n">nums</span><span class="p">]</span><span class="w">
       </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="mi">10</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(10 20 30 40)</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s see how it works. So,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">nums</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">]])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Assigns <code>[1 2 3 4]</code> to <code>nums</code>. Then we invoke the <code>for</code> as shown</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">nums</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">]]</span><span class="w">
  </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">num</span><span class="w"> </span><span class="n">nums</span><span class="p">]</span><span class="w">
    </span><span class="c1">;; loop body</span><span class="w">
       </span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above code <code>for [num nums]</code> is the new addition, so the loop body in the above code will be executed 4 times, the first time it gets executed, the first value in <code>nums</code> that is <code>1</code> will be loaded into <code>num</code>, the second time it will be <code>2</code> and so on.</p>
</div>
<div class="paragraph">
<p>So in the loop body all we do is to multiply <code>num</code> by <code>10</code>, so let&#8217;s put <code>(* num 10)</code> in the loop body as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">nums</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">]]</span><span class="w">
  </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">num</span><span class="w"> </span><span class="n">nums</span><span class="p">]</span><span class="w">
       </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="mi">10</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So what <code>for</code> does is this, first time <code>num</code> is <code>1</code> and the loop body returns <code>(* num 10)</code> which is <code>10</code>, so <code>for</code> has a list with <code>(10)</code>. The next time <code>num</code> is <code>2</code> and <code>(* num 10)</code> is <code>20</code> which get returned and <code>for</code> now has a list <code>(10 20)</code>, and so on it continues till <code>for</code> has a list <code>(10 20 30 40)</code>, finally for returns it.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s try out a for program with multiple sequences. Type the program below and execute it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="p">[</span><span class="s">"red"</span><span class="w"> </span><span class="s">"blue"</span><span class="w"> </span><span class="s">"green"</span><span class="w"> </span><span class="s">"yellow"</span><span class="p">])</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">shapes</span><span class="w"> </span><span class="p">[</span><span class="s">"square"</span><span class="w"> </span><span class="s">"circle"</span><span class="w"> </span><span class="s">"triangle"</span><span class="w"> </span><span class="s">"rectangle"</span><span class="p">])</span><span class="w">

</span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">color</span><span class="w"> </span><span class="n">colors</span><span class="w">
      </span><span class="n">shape</span><span class="w"> </span><span class="n">shapes</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="s">" "</span><span class="w"> </span><span class="n">shape</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>("red square" "red circle" "red triangle" "red rectangle" "blue square" "blue circle" "blue triangle" "blue rectangle" "green square" "green circle" "green triangle" "green rectangle" "yellow square" "yellow circle" "yellow triangle" "yellow rectangle")</pre>
</div>
</div>
<div class="paragraph">
<p>So in this statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="p">[</span><span class="s">"red"</span><span class="w"> </span><span class="s">"blue"</span><span class="w"> </span><span class="s">"green"</span><span class="w"> </span><span class="s">"yellow"</span><span class="p">]))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We assign four colors to a variable named <code>colors</code>. Similarly in this statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">shapes</span><span class="w"> </span><span class="p">[</span><span class="s">"square"</span><span class="w"> </span><span class="s">"circle"</span><span class="w"> </span><span class="s">"triangle"</span><span class="w"> </span><span class="s">"rectangle"</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We assign four shapes to shapes. Now let&#8217;s use <code>for</code> to combine all <code>colors</code> with all <code>shapes</code>. Now look at this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">color</span><span class="w"> </span><span class="n">colors</span><span class="p">]</span><span class="w">
  </span><span class="c1">;; loop body</span><span class="w">
  </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So in the code above we tell the for to execute each time for every item in <code>colors</code>, the first time it executes <code>color</code> will be the first value of <code>color</code>, that is <code>"red"</code>, the last time it executes <code>color</code> will be the last value of <code>colors</code> that is <code>"yellow"</code>.</p>
</div>
<div class="paragraph">
<p>Now we need to mix in <code>shapes</code>, so we just load every shape in <code>shapes</code> into a variable called <code>shape</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">color</span><span class="w"> </span><span class="n">colors</span><span class="w">
      </span><span class="n">shape</span><span class="w"> </span><span class="n">shapes</span><span class="p">]</span><span class="w">
  </span><span class="c1">;; loop body</span><span class="w">
  </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The way it executes is like this, first <code>"red"</code> gets loaded into <code>color</code>, then <code>"square"</code> gets loaded into <code>shape</code>, the loop body gets executed, here the loop body is simply concatenating <code>colors</code> and <code>shape</code> using <code>str</code>, so let&#8217;s add <code>(str color " " shape)</code> to our code below as the body of <code>for</code> loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">color</span><span class="w"> </span><span class="n">colors</span><span class="w">
      </span><span class="n">shape</span><span class="w"> </span><span class="n">shapes</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="s">" "</span><span class="w"> </span><span class="n">shape</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So the first time <code>"red"</code>, then a space <code>" "</code> and <code>"square"</code> gets stringed together and <code>for</code> has a collection <code>("red square")</code>, now the next time, the <code>shape</code> takes the next value in <code>shapes</code>, that is "circle" and we get <code>"red circle"</code> as the output of <code>(str color " " shape)</code>, and hence <code>for</code> has the collection <code>("red square" "red circle")</code>. This goes on till all values in <code>shapes</code> are iterated, and now <code>color</code> takes on the next color that is <code>"blue"</code>, and the process continues. Ultimately for will return this list out:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>("red square" "red circle" "red triangle" "red rectangle" "blue square" "blue circle" "blue triangle" "blue rectangle" "green square" "green circle" "green triangle" "green rectangle" "yellow square" "yellow circle" "yellow triangle" "yellow rectangle")</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_doseq">8.2. doseq</h3>
<div class="paragraph">
<p><code>doseq</code> works just like <code>for</code>, but it returns nothing. Checkout the code below, if you think it will return <code>(10 20 30 40)</code>, you are wrong. When you want something to be executed, but then nothing should be returned, then <code>doseq</code> is the thing to be used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">nums</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">]]</span><span class="w">
  </span><span class="p">(</span><span class="nb">doseq</span><span class="w"> </span><span class="p">[</span><span class="n">num</span><span class="w"> </span><span class="n">nums</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="mi">10</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nil</pre>
</div>
</div>
<div class="paragraph">
<p>Now check out the code below, though <code>doseq</code> returns nothing, you can make it do something in the loop body, here we just print numbers multiplied by 10:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">nums</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">]]</span><span class="w">
  </span><span class="p">(</span><span class="nb">doseq</span><span class="w"> </span><span class="p">[</span><span class="n">num</span><span class="w"> </span><span class="n">nums</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="mi">10</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10
20
30
40
nil</pre>
</div>
</div>
<div class="paragraph">
<p>In real world it could be a code to send emails to n-number of people or something like that where there is no need to return anything after the loop has run.</p>
</div>
</div>
<div class="sect2">
<h3 id="_loop">8.3. loop</h3>
<div class="paragraph">
<p>The final loop we are going to see in Clojure is <code>loop</code>, type the program below and execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">when</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">(</span><span class="nb">inc</span><span class="w"> </span><span class="n">x</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1
2
3
4
5
nil</pre>
</div>
</div>
<div class="paragraph">
<p>It works like this, first you have a function <code>loop</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>now let&#8217;s initialize a variable named <code>x</code> to <code>1</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="mi">1</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We want to print from 1 to 5, then the loop should check the condition if <code>x</code> is less than or equal to 5, so let&#8217;s check the condition <code>(&#8656; x 5)</code> using a function called <code>when</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">when</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">
    </span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So the first argument to loop is <code>[x 1]</code>, the second one is the condition check:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">when</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">
    </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So when ever <code>x</code> is less than 5 <code>(&#8656; x 5)</code> what ever is put in <code>(when (&#8656; x 5) &#8230;&#8203;)</code> gets executed.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s have a simple loop body to print <code>x</code>, so we get:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">when</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">x</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Once we need to the loop to continue once it has printed <code>x</code>, so for that we call a function <code>recur</code> with updated value of <code>x</code>, let&#8217;s pass <code>(recur (inc x))</code> as second argument to when as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">when</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">(</span><span class="nb">inc</span><span class="w"> </span><span class="n">x</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So now once again <code>loop</code> is hit, but now <code>x</code> is 2 this time, and still <code>(&#8656; x 5)</code> passes, now 2 gets printed out, it goes on and on till <code>x</code> is 6 and so <code>(&#8656; x 5)</code> fails, and the loop stops recurring and execution stops.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_functions">9. Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Abstraction is the key to greatness and progress. Michael Faraday discovered electricity and magnetism have a link, but I don&#8217;t think about it when I drive my car. Everything is abstracted away behind the steering wheel and pedals. Abstraction is so important, that almost every programming language provides a way to abstract away complexity.</p>
</div>
<div class="paragraph">
<p>Functions are the way you can abstract away things in Clojure. Whenever a code gets complex, you can refactor it out as functions, and use those functions as building blocks. In fact, you have been using functions all along, say when you call <code>(+ 1 2)</code> in Clojure, the <code>+</code> is a function, and <code>1</code> and <code>2</code> are the value it receives. Technically we call the values received by the function as arguments. You don&#8217;t know what happens in computer when you execute <code>(+ 1 2)</code>, it&#8217;s been neatly abstracted away behind the function <code>+</code>.</p>
</div>
<div class="paragraph">
<p>So let&#8217;s see how to build our own functions in this chapter.</p>
</div>
<div class="sect2">
<h3 id="_saying_hello_with_functions">9.1. Saying Hello With Functions</h3>
<div class="paragraph">
<p>So this is the code in Clojure to print Hello World:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello world!"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, I want to short it, I want to make this same functionality available by calling just <code>(say-hello)</code>. To do that I first call a function called <code>defn</code> or define function</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To it, as a first argument I pass the function name <code>say-hello</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">say-hello</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now <code>say-hello`</code> is passed to <code>defn</code>, but since <code>say-hello</code> is defined as a function, we can accept arguments for it, but here we need no arguments as we are going to print Hello World!, so lets put empty square braces as no arguments will be accepted by <code>say-hello</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">say-hello</span><span class="w"> </span><span class="p">[])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now all we need to do is to write the function body, in the body we print hello world as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">say-hello</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello world!"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So when ever we call <code>(say-hello)</code>, Hello World! gets printed. Below code shows the final version of say hello:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_say_hello.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">say-hello</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello world!"</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nf">say-hello</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hello world!
nil</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_passing_argument">9.2. Passing Argument</h3>
<div class="paragraph">
<p>We can pass arguments to functions, say we have a function \$f(x) = x^2 + 2\$, this function accepts an argument \$x\$, now we plug in 7 to x, then \$f(7) = 51\$. In the same way, a programming function can take in argument and do something with it.</p>
</div>
<div class="paragraph">
<p>Look at the say hello example below, type iit and execute it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_with_arguments.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">say-hello</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello"</span><span class="w"> </span><span class="nb">name</span><span class="w"> </span><span class="s">"!"</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nf">say-hello</span><span class="w"> </span><span class="s">"Karthik"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hello Karthik !
nil</pre>
</div>
</div>
<div class="paragraph">
<p>It prints <code>Hello Karthik !</code>, so how it works? We <code>(defn say-hello &#8230;&#8203;)</code>, where we define a function named <code>say-hello</code>, bu then after that notice the <code>[name]</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">say-hello</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="p">]</span><span class="w">
  </span><span class="c1">;; function body goes here</span><span class="w">
  </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>name</code> is an argument you need to pass for the function to run. It an be used as variable in the function. Notice how the function is structured, you have the <code>defn</code>, followed by the function name then there the square bracket containing the sigle argument name <code>[name]</code>. Now let&#8217;s finish off the function by writing its body as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">say-hello</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Hello"</span><span class="w"> </span><span class="nb">name</span><span class="w"> </span><span class="s">"!"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As function body, we are just printing saying hello to the <code>name</code> passed using <code>println</code> like this: <code>(println "Hello" name "!")</code>.</p>
</div>
<div class="paragraph">
<p>Now calling <code>say-hello</code> with argument <code>Karthik</code> <code>(say-hello "Karthik")</code> prints out <code>Hello Karthik !</code>. Modify the program to say hello to you.</p>
</div>
</div>
<div class="sect2">
<h3 id="_finding_area_of_circle">9.3. Finding Area Of Circle</h3>
<div class="paragraph">
<p>We know that area of circle is \$pi r^2\$, given radius of a circle is stored in a variable <code>radius</code>, we can write a Clojure code to find area as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">Math/PI</span><span class="w"> </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">radius</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, rather than writing as above, won&#8217;t it be good if we can find area of circle by calling a function <code>circle-area</code>? That&#8217;s what we do in code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_circle_area.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">circle-area</span><span class="w"> </span><span class="p">[</span><span class="n">radius</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">Math/PI</span><span class="w"> </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">radius</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="nf">circle-area</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>153.93804002589985</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code, rather than dealing with <code>Math/PI</code> and finding power, all we need to do is to call <code>(circle-area 7)</code>, and we get the area of circle whose radius is 7 units. A good function abstracts complexity away and makes us write programs better and better.</p>
</div>
</div>
<div class="sect2">
<h3 id="_refactoring">9.4. Refactoring</h3>
<div class="paragraph">
<p>Say your friend is coding a billion dollar startup that let&#8217;s its customers find circle area using an app. Your friend had a successful pitch and investment round where he claimed that 1000s of people wanted to find circle area every day and his app will be useful for it. He knows you area great programmer and you coded the <code>circle-area</code> function for him. The app releases and humanity is saved.</p>
</div>
<div class="paragraph">
<p>You find that rather than finding circle area using  <code>(* Math/PI (Math/pow radius 2))</code>, you can find it by <code>(* Math/PI radius radius)</code>. The later is much simpler and easier to maintain. So all you need to do is to change the code in one place as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_circle_area_refactored.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">circle-area</span><span class="w"> </span><span class="p">[</span><span class="n">radius</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">Math/PI</span><span class="w"> </span><span class="n">radius</span><span class="w"> </span><span class="n">radius</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nf">circle-area</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The rest of the code in the app is totally unaware of this change, and works just fine. Instead of abstracting things away as a function, if you put  <code>(* Math/PI (Math/pow radius 2))</code> everywhere, say in 50 places in app, it would be really difficult to change and test.</p>
</div>
<div class="paragraph">
<p>So functions help in better coding, and even reduces the possibility of bugs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_function_with_multiple_arguments">9.5. Function with multiple arguments</h3>
<div class="paragraph">
<p>It&#8217;s not that functions should have only one argument, say you want to find the hypotenuse of a right angle triable of sides lengths \$a\$ and \$b\$, then it can be written as a function \$f(a, b) = sqrt { a^2 + b^2 }\$. So let&#8217;s code this one in Clojure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; hypotenuse.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">hypotenuse</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nf">Math/sqrt</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">b</span><span class="p">))))</span><span class="w">

</span><span class="p">(</span><span class="nf">hypotenuse</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>5.0</pre>
</div>
</div>
<div class="paragraph">
<p>In the code above, we define a function <code>hypotenuse</code>, and it takes in two arguments <code>a</code> and <code>b</code>, so I think it should be clear to reader now, if a function takes no arguments, the function name should be followed by empty square brackets <code>[]</code>, or if it does then the argument names should be included in those square brackets like <code>[a, b]</code>. In the function body we just add the statement <code>(Math/sqrt (+ (* a a) (* b b)))</code>, which computes the hypotenuse and returns the number.</p>
</div>
<div class="paragraph">
<p>When we call <code>(hypotenuse 3 4)</code>, <code>5.0</code> gets returned.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say for some reason we need a function where it can accept one argument, and the same function can also accept two arguments. We can do that too Clojure. Look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_multiple_arguments.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">multiple-args</span><span class="w">
  </span><span class="p">([</span><span class="n">arg-1</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"One argument passed:"</span><span class="w"> </span><span class="n">arg-1</span><span class="p">))</span><span class="w">
  </span><span class="p">([</span><span class="n">arg-1</span><span class="w"> </span><span class="n">arg-2</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Two arguments passed:"</span><span class="w"> </span><span class="n">arg-1</span><span class="w"> </span><span class="n">arg-2</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="nf">multiple-args</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nf">multiple-args</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>One argument passed: 1
Two arguments passed: 1 2</pre>
</div>
</div>
<div class="paragraph">
<p>So we have a function called <code>multiple-args</code>, that&#8217;s defined like this</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">multiple-args</span><span class="w">
  </span><span class="c1">;; function body goes here</span><span class="w">
  </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So in order to accept one argument, we add a form as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">multiple-args</span><span class="w">
  </span><span class="p">([</span><span class="n">arg-1</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"One argument passed:"</span><span class="w"> </span><span class="n">arg-1</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">([</span><span class="n">arg-1</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"One argument passed:"</span><span class="w"> </span><span class="n">arg-1</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Receives one argument <code>arg-1</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">([</span><span class="n">arg-1</span><span class="p">]</span><span class="w"> </span><span class="n">...</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And in the body of the function we print it using <code>(println "One argument passed:" arg-1)</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">([</span><span class="n">arg-1</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"One argument passed:"</span><span class="w"> </span><span class="n">arg-1</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So this will respond to a function call like <code>(multiple-args 1)</code>.</p>
</div>
<div class="paragraph">
<p>Now in order to have two arguments, we add this another form that has two arguments in it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">([</span><span class="n">arg-1</span><span class="w"> </span><span class="n">arg-2</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Two argument passed:"</span><span class="w"> </span><span class="n">arg-1</span><span class="w"> </span><span class="n">arg-2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So now this is our function definition which can accept one argument or two arguments:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">multiple-args</span><span class="w">
  </span><span class="p">([</span><span class="n">arg-1</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"One argument passed:"</span><span class="w"> </span><span class="n">arg-1</span><span class="p">))</span><span class="w">
  </span><span class="p">([</span><span class="n">arg-1</span><span class="w"> </span><span class="n">arg-2</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Two argument passed:"</span><span class="w"> </span><span class="n">arg-1</span><span class="w"> </span><span class="n">arg-2</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>([arg-1 arg-2] (println "Two argument passed:" arg-1 arg-2))</code> will be called when we call <code>(multiple-args 1 2)</code> is executed.</p>
</div>
<div class="paragraph">
<p>As an exercise try writing code that will let you call <code>(multiple-args)</code>, this should print out <code>No argument passed</code>. If you are finding it difficult refer <code>function_multiple_arguments_exercise.clj</code> in the code examples.</p>
</div>
</div>
<div class="sect2">
<h3 id="_accepting_unlimited_arguments">9.6. Accepting unlimited arguments</h3>
<div class="paragraph">
<p>It is possible to accept unlimited number of arguments in a Clojure function. For example <code>+</code> function can accept unlimited amount and can give us the sum:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>17</pre>
</div>
</div>
<div class="paragraph">
<p>For our functions to accept unlimited number of arguments, prefix argument with a `&amp; ` (and and space), take a look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_unlimited_arguments.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">unlimited-arguments</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Arguments:"</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Type of args:"</span><span class="w"> </span><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="n">args</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="nf">unlimited-arguments</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nf">unlimited-arguments</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="n">true</span><span class="w"> </span><span class="s">"Karthik"</span><span class="w"> </span><span class="no">:coder</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Arguments: (1)
Type of args: clojure.lang.ArraySeq

Arguments: (1 17 true Karthik :coder)
Type of args: clojure.lang.ArraySeq</pre>
</div>
</div>
<div class="paragraph">
<p>In the above example we have <code>&amp; args</code>, between square brackets, so the function <code>unlimited-arguments</code> can accept any number of arguments.</p>
</div>
<div class="paragraph">
<p>Say if we call the function like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">unlimited-arguments</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then we get the output as <code>Arguments: (1)</code> which is generated by this statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Arguments:"</span><span class="w"> </span><span class="n">args</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above code snippet we are just printing the arguments. In the below code snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Type of args:"</span><span class="w"> </span><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="n">args</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We are printing the type of <code>args</code> which seems to be <code>clojure.lang.ArraySeq</code>, which I think is some list. In similar fashion when we call:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">unlimited-arguments</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="n">true</span><span class="w"> </span><span class="s">"Karthik"</span><span class="w"> </span><span class="no">:coder</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>All <code>1 17 true "Karthik" :coder</code>, seems to be bundled in <code>args</code> as a list, as you can see from the output its printed as <code>Arguments: (1 17 true Karthik :coder)</code>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say that we want a function where it accepts one or more arguments, we can code it like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_unlimited_arguments_2.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">unlimited-arguments</span><span class="w"> </span><span class="p">[</span><span class="n">first-arg</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"First argument:"</span><span class="w"> </span><span class="n">first-arg</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Other arguments:"</span><span class="w"> </span><span class="n">args</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nf">unlimited-arguments</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nf">unlimited-arguments</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="n">true</span><span class="w"> </span><span class="s">"Karthik"</span><span class="w"> </span><span class="no">:coder</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>First argument: 1
Other arguments: nil

First argument: 1
Other arguments: (17 true Karthik :coder)</pre>
</div>
</div>
<div class="paragraph">
<p>Look at <code>[first-arg &amp; args]</code>, so the first argument gets captured in <code>first-arg</code>, the rest if they are there gets bundled up in <code>args</code> which is present after <code>&amp;</code> inside the square braces.</p>
</div>
<div class="paragraph">
<p>In the example below, the function <code>unlimited-arguments</code> has to have minimum of two arguments:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_unlimited_arguments_3.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">unlimited-arguments</span><span class="w"> </span><span class="p">[</span><span class="n">first-arg</span><span class="w"> </span><span class="n">second-arg</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">args</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"First argument:"</span><span class="w"> </span><span class="n">first-arg</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Second argument:"</span><span class="w"> </span><span class="n">second-arg</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Other arguments:"</span><span class="w"> </span><span class="n">args</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nf">unlimited-arguments</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nf">unlimited-arguments</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="n">true</span><span class="w"> </span><span class="s">"Karthik"</span><span class="w"> </span><span class="no">:coder</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>First argument: 1
Second argument: 2
Other arguments: nil

First argument: 1
Second argument: 17
Other arguments: (true Karthik :coder)</pre>
</div>
</div>
<div class="paragraph">
<p>The first argument is caught by <code>first-arg</code> and the second by <code>second-arg</code>, the rest is bundled up as list in <code>args</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_returning_stuff">9.7. Returning stuff</h3>
<div class="paragraph">
<p>If you think about a mathematical function, say \$f(x) = x^ + 2\$, if you plug in a value say \$x = 7\$, it returns 51. So you expect  a function to return something.</p>
</div>
<div class="paragraph">
<p>In clojure, the last statement executed by a function returns. Take for example the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_returning_something.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="mi">3</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>5
nil</pre>
</div>
</div>
<div class="paragraph">
<p>In the code above, the result of <code>(+ a b)</code> is returned out of the function add. If you see <code>(+ a b)</code> is the last statement of the function <code>add</code>. This is been captured by <code>println</code> and is printed out. You might have noticed a nil in output, thats because <code>println</code> after printing <code>5</code> returns nothing or <code>nil</code> and hence <code>nil</code> gets printed in the REPL.</p>
</div>
<div class="paragraph">
<p>Another good example will be any math function in Clojure. kae for instance <code>+</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Returns <code>15</code>, and hence if you try it out on the repl, you will get 15.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s code something and see what it returns. Code the example below and execute it</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; what_it_returns.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">do-math</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nf">do-math</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>15</pre>
</div>
</div>
<div class="paragraph">
<p>In function <code>do-math</code>, you see the first form is <code>(+ a b)</code>, when <code>(do-math 5 3)</code> is called, <code>(+ a b)</code> returns <code>8</code>, but it gets thrown away and lost, the last statement is <code>(* a b)</code>, and it returns 15, this is what gets returned from <code>do-math</code> and that&#8217;s what appears as output.</p>
</div>
<div class="paragraph">
<p>Now lets code another function swapping the <code>*</code> and <code>+</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; what_it_returns_2.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">do-math</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nf">do-math</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>8</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code, since <code>(+ a b)</code> ais at the last of the function, it get&#8217;s returned. What&#8217;s computed by <code>(* a b)</code> is lost.</p>
</div>
<div class="paragraph">
<p>The moral of the story is the last statement or forms output get&#8217;s returned from a function.</p>
</div>
</div>
<div class="sect2">
<h3 id="_recursion">9.8. Recursion</h3>
<div class="paragraph">
<p>A function calling itself is known as recursion. For example look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_recursion.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">count-down</span><span class="w"> </span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">pos?</span><span class="w"> </span><span class="p">(</span><span class="nb">dec</span><span class="w"> </span><span class="n">number</span><span class="p">))</span><span class="w">
    </span><span class="p">(</span><span class="nf">count-down</span><span class="w"> </span><span class="p">(</span><span class="nb">dec</span><span class="w"> </span><span class="n">number</span><span class="p">))))</span><span class="w">

</span><span class="p">(</span><span class="nf">count-down</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>5
4
3
2
1
nil</pre>
</div>
</div>
<div class="paragraph">
<p>When executing the function, it prints from 5 to 1 and stops. We called the function like this: <code>(count-down 5)</code>. Let&#8217;s analyze the function body:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">pos?</span><span class="w"> </span><span class="p">(</span><span class="nb">dec</span><span class="w"> </span><span class="n">number</span><span class="p">))</span><span class="w">
  </span><span class="p">(</span><span class="nf">count-down</span><span class="w"> </span><span class="p">(</span><span class="nb">dec</span><span class="w"> </span><span class="n">number</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>First we have the form / statement <code>(println number)</code> which prints out <code>5</code>, then it comes to this form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">pos?</span><span class="w"> </span><span class="p">(</span><span class="nb">dec</span><span class="w"> </span><span class="n">number</span><span class="p">))</span><span class="w">
  </span><span class="p">(</span><span class="nf">count-down</span><span class="w"> </span><span class="p">(</span><span class="nb">dec</span><span class="w"> </span><span class="n">number</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So in the above code <code>(dec number)</code> is <code>4</code> and is positive, and hence <code>(pos? 4)</code> is <code>true</code>, hence the statement <code>(count-down (dec number))</code> gets executed, and so <code>(count-down 4)</code> is called. That is the function <code>count-down`</code> calls itself again.</p>
</div>
<div class="paragraph">
<p>This goes on till <code>number</code> becomes <code>0</code> and <code>(dec number)</code> is <code>-1</code> and hence <code>(pos? -1)</code> is <code>false</code> thus <code>(count-down (dec number))</code> is never reached and the program exits.</p>
</div>
<div class="paragraph">
<p>You can call a function from itself using the function name as in the example above, or you can use <code>recur</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_recur.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">count-down</span><span class="w"> </span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">pos?</span><span class="w">  </span><span class="p">(</span><span class="nb">dec</span><span class="w"> </span><span class="n">number</span><span class="p">))</span><span class="w">
    </span><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">(</span><span class="nb">dec</span><span class="w"> </span><span class="n">number</span><span class="p">))))</span><span class="w">

</span><span class="p">(</span><span class="nf">count-down</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>5
4
3
2
1
nil</pre>
</div>
</div>
<div class="paragraph">
<p>In th example above, we have replace the function name <code>count-down</code> with <code>recur</code> when the function needs to call itself. It said that when we use <code>recur</code> it more memory efficient and the condition it must satisfy is hat <code>recur`</code> should be the last statement executed in the function.</p>
</div>
<div class="paragraph">
<p>In the example below, we use recursion to compute the total of sequence of numbers passed to a function. Type the code below and execute it, we will see how it works soon.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_sum_using_recursion.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="p">[</span><span class="n">numbers</span><span class="w"> </span><span class="n">total</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">empty?</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span><span class="w">
    </span><span class="n">total</span><span class="w">
    </span><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">numbers</span><span class="p">)))))</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="p">(</span><span class="nf">sum</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="n">,</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>15
nil</pre>
</div>
</div>
<div class="paragraph">
<p>In the above example we have tried out <code>sum</code> like this <code>(sum [1 2 3 4 5], 0)</code>, which returns <code>15</code>. to simplyfy it let&#8217;s try out something as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">sum</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So when the above form is executed, let&#8217;s look at the body of <code>sum</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="w"> </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">empty?</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span><span class="w">
    </span><span class="n">total</span><span class="w">
    </span><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">numbers</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>(empty? [1 2])</code> become <code>false</code>, and  hance this get&#8217;s executed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">numbers</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When substituting values, we get the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">])))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Which can be reduced to this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and so we get:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Since <code>recur</code> calls the same function it&#8217;s in, we can write it as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">sum</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So now a <code>sum</code> is called with <code>numbers</code> taking tha value <code>[2]</code> and <code>total</code> taking he value <code>1</code>. Once again <code>(empty [2])</code> is <code>false</code> and we end up with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">numbers</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Which on substitution we get</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">])))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now reducing it we get:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Substituting <code>recur</code> with <code>sum</code> and reducing <code>(+ 1 2 )</code> to <code>3</code> we get:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">sum</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So now <code>numbers</code> takes the value <code>[]</code> and <code>total</code> take the value <code>3</code>, now let&#8217;s plug it into:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="w"> </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">empty?</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span><span class="w">
    </span><span class="n">total</span><span class="w">
    </span><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">numbers</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here <code>(empty? numbers)</code> is <code>true</code> and hence <code>total</code> must be returned, hence <code>3</code> gets returned which is the sum of the vector <code>[1 2]</code>.</p>
</div>
<div class="paragraph">
<p>What if you don&#8217;t want to pass the <code>total</code> and want a function that take a sequence and computes its sum. Take a look at the example below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_collection_sum.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="p">[</span><span class="n">numbers</span><span class="w"> </span><span class="n">total</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">empty?</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span><span class="w">
    </span><span class="n">total</span><span class="w">
    </span><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">numbers</span><span class="p">)))))</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">collection-sum</span><span class="w"> </span><span class="p">[</span><span class="n">collection</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nf">sum</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="p">(</span><span class="nf">collection-sum</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">]))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>15
nil</pre>
</div>
</div>
<div class="paragraph">
<p>In the above example we have function <code>collection-sum</code> that takes a collection, it abstracts away by passing the collection and initial <code>total</code> as <code>0</code> to the <code>sum</code> function which we coded before. <code>sum</code> uses recursion to calculate the sum.</p>
</div>
</div>
<div class="sect2">
<h3 id="_multimethods">9.9. Multimethods</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; without_multimethods.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">print-welcome-message</span><span class="w"> </span><span class="p">[</span><span class="n">person</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">cond</span><span class="w">
    </span><span class="p">(</span><span class="nb">string?</span><span class="w"> </span><span class="n">person</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Welcome"</span><span class="w"> </span><span class="n">person</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">vector?</span><span class="w"> </span><span class="n">person</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w">  </span><span class="s">"Welcome"</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">person</span><span class="p">)</span><span class="w"> </span><span class="s">"from"</span><span class="w"> </span><span class="p">(</span><span class="nb">last</span><span class="w"> </span><span class="n">person</span><span class="p">))</span><span class="w">
    </span><span class="p">(</span><span class="nb">map?</span><span class="w"> </span><span class="n">person</span><span class="p">)</span><span class="w">    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Welcome"</span><span class="w"> </span><span class="p">(</span><span class="nf">person</span><span class="w"> </span><span class="s">"name"</span><span class="p">)</span><span class="w"> </span><span class="s">"from"</span><span class="w"> </span><span class="p">(</span><span class="nf">person</span><span class="w"> </span><span class="s">"from"</span><span class="p">))))</span><span class="w">

</span><span class="p">(</span><span class="nf">print-welcome-message</span><span class="w"> </span><span class="s">"Karthik from Chennai"</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nf">print-welcome-message</span><span class="w"> </span><span class="p">[</span><span class="s">"Kalam"</span><span class="w"> </span><span class="s">"Ramanthapuram"</span><span class="p">])</span><span class="w">
</span><span class="p">(</span><span class="nf">print-welcome-message</span><span class="w"> </span><span class="p">{</span><span class="s">"name"</span><span class="w"> </span><span class="s">"Bharathiyaar"</span><span class="w"> </span><span class="s">"from"</span><span class="w"> </span><span class="s">"Yettaiyapuram"</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Welcome Karthik from Chennai
Welcome Kalam from Ramanthapuram
Welcome Bharathiyaar from Yettaiyapuram</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; with_multimethods.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">welcome-person</span><span class="w"> </span><span class="p">[</span><span class="n">person</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">cond</span><span class="w">
    </span><span class="p">(</span><span class="nb">string?</span><span class="w"> </span><span class="n">person</span><span class="p">)</span><span class="w"> </span><span class="no">:welcome-person-string</span><span class="w">
    </span><span class="p">(</span><span class="nb">vector?</span><span class="w"> </span><span class="n">person</span><span class="p">)</span><span class="w"> </span><span class="no">:welcome-person-vector</span><span class="w">
    </span><span class="p">(</span><span class="nb">map?</span><span class="w"> </span><span class="n">person</span><span class="p">)</span><span class="w">    </span><span class="no">:welcome-person-map</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="k">defmulti</span><span class="w"> </span><span class="n">print-welcome-message</span><span class="w"> </span><span class="n">welcome-person</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">defmethod</span><span class="w"> </span><span class="n">print-welcome-message</span><span class="w"> </span><span class="no">:welcome-person-string</span><span class="w"> </span><span class="p">[</span><span class="n">person</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Welcome"</span><span class="w"> </span><span class="n">person</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="k">defmethod</span><span class="w"> </span><span class="n">print-welcome-message</span><span class="w"> </span><span class="no">:welcome-person-vector</span><span class="w"> </span><span class="p">[</span><span class="n">person</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w">  </span><span class="s">"Welcome"</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">person</span><span class="p">)</span><span class="w"> </span><span class="s">"from"</span><span class="w"> </span><span class="p">(</span><span class="nb">last</span><span class="w"> </span><span class="n">person</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="k">defmethod</span><span class="w"> </span><span class="n">print-welcome-message</span><span class="w"> </span><span class="no">:welcome-person-map</span><span class="w"> </span><span class="p">[</span><span class="n">person</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Welcome"</span><span class="w"> </span><span class="p">(</span><span class="nf">person</span><span class="w"> </span><span class="s">"name"</span><span class="p">)</span><span class="w"> </span><span class="s">"from"</span><span class="w"> </span><span class="p">(</span><span class="nf">person</span><span class="w"> </span><span class="s">"from"</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="nf">print-welcome-message</span><span class="w"> </span><span class="s">"Karthik from Chennai"</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nf">print-welcome-message</span><span class="w"> </span><span class="p">[</span><span class="s">"Kalam"</span><span class="w"> </span><span class="s">"Ramanthapuram"</span><span class="p">])</span><span class="w">
</span><span class="p">(</span><span class="nf">print-welcome-message</span><span class="w"> </span><span class="p">{</span><span class="s">"name"</span><span class="w"> </span><span class="s">"Bharathiyaar"</span><span class="w"> </span><span class="s">"from"</span><span class="w"> </span><span class="s">"Yettaiyapuram"</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Welcome Karthik from Chennai
Welcome Kalam from Ramanthapuram
Welcome Bharathiyaar from Yettaiyapuram</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pre_and_post_condition_checking">9.10. Pre and Post Condition Checking</h3>
<div class="paragraph">
<p>Functions need data to operate on (well almost all of them). If the data is not passed in right format, then the function might cease to work. It&#8217;s a good idea to check the data passed to a function. For that Clojure provides a <code>pre</code> hook. Let&#8217;s learn how it works using an example. Type the code below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_pre.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">{</span><span class="no">:pre</span><span class="w"> </span><span class="p">[(</span><span class="nf">number?</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">number?</span><span class="w"> </span><span class="n">b</span><span class="p">)]}</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="p">(</span><span class="nf">sum</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span><span class="w">
</span><span class="c1">;; (println (sum "4" 5)) ;; Thows an error</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When you execute <code>(println (sum 4 5))</code>, it works, whereas <code>(println (sum "4" 5))</code>  throws an error. This is because of the following code snippet in <code>sum</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">{</span><span class="no">:pre</span><span class="w"> </span><span class="p">[(</span><span class="nf">number?</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">number?</span><span class="w"> </span><span class="n">b</span><span class="p">)]}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So this is just a map with a key named <code>:pre</code>. This pre can check many things, so we pass many things as an vector to it. The first one being, we check if the first argument <code>a</code> is a number using thr condition <code>(number? a)</code>, the second one being we check if the second argument <code>b</code> is a number using <code>(number? b)</code>. The function body is executed ony all both the conditions passed inside the vector are true.</p>
</div>
<div class="paragraph">
<p>For <code>(sum 4 5)</code>, <code>a</code> is <code>4</code> and <code>b</code> is <code>5</code>, so the function <code>sum</code> executes. For <code>(sum "4" 5)</code>, "4" is a string hence <code>(number? a)</code> becomes false nd it throws an error.</p>
</div>
<div class="paragraph">
<p>When it&#8217;s needed for one to check if returned value has some particular data format / structure, then we could use a post hook as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_post.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">{</span><span class="no">:post</span><span class="w"> </span><span class="p">[(</span><span class="nf">number?</span><span class="w"> </span><span class="n">%</span><span class="p">)]}</span><span class="w">
  </span><span class="s">"45"</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sum-without-post</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="s">"45"</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="p">(</span><span class="nf">sum-without-post</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="p">(</span><span class="nf">sum</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="c1">;; ; Assert failed: (number? %)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Type the code above and execute. In the above example, both <code>sum</code> and <code>sum-without-post</code> returns a string <code>"45"</code>. If you execute <code>(sum-without-post 4 5)</code>, it just runs, but as a human one would expect sum of two numbers to be a number, whereas <code>(sum 4 5)</code> throws an error because it returns a string and the post hook:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">{</span><span class="no">:post</span><span class="w"> </span><span class="p">[(</span><span class="nf">number?</span><span class="w"> </span><span class="n">%</span><span class="p">)]}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>expects the returned output represented by percent <code>%</code> sign to be a number.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s see <code>pre</code> and <code>post</code> hooks in action:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_pre_post.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">{</span><span class="no">:pre</span><span class="w"> </span><span class="p">[(</span><span class="nf">number?</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">number?</span><span class="w"> </span><span class="n">b</span><span class="p">)]</span><span class="w">
   </span><span class="no">:post</span><span class="w"> </span><span class="p">[(</span><span class="nf">number?</span><span class="w"> </span><span class="n">%</span><span class="p">)]}</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="p">(</span><span class="nf">sum</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>What do you think will happen if we call <code>(sum 4 "5")</code> in above code?</p>
</div>
</div>
<div class="sect2">
<h3 id="_docstring">9.11. Docstring</h3>
<div class="paragraph">
<p>Documenting stuff is very important in programming. Clojure provides a way to document functions (which are first class citizens in this language). So look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; docstring.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sum</span><span class="w">
  </span><span class="s">"Adds two numbers passed as arguments.

   The arguments should be numbers.

   **Usage**

   ```clojure
   (sum 4 5) ;; returns 9
   ```
  "</span><span class="w">
  </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">{</span><span class="no">:pre</span><span class="w"> </span><span class="p">[(</span><span class="nf">number?</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">number?</span><span class="w"> </span><span class="n">b</span><span class="p">)]}</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="p">(</span><span class="nf">sum</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Right after <code>(def sum</code> we have this string:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="s">"Adds two numbers passed as arguments.

  The arguments should be numbers.

  **Usage**

  ```clojure
  (sum 4 5) ;; returns 9
  ```
"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This string is nothing but documentation for the function. Note how I have used <code><strong>Usage</strong></code>, I have used mark down format. I have also used something like this in the doc string:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="markdown"><span class="p">```</span><span class="nl">clojure
</span><span class="p">(</span><span class="nf">sum</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="c1">;; returns 9</span>
<span class="p">```</span></code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">This tells to highlight `(sum 4 5) </dt>
<dd>
<p>returns 9` as Clojure code.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>One can access documentation for <code>sum</code> using the <code>doc</code> function as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>clj꞉user꞉&gt; (doc sum)
-------------------------
user/sum
([a b])
  Adds two numbers passed as arguments.

   The argumets should be numbers.

   **Usage**

   ```clojure
   (sum 4 5) ;; returns 9
   ```

nil</pre>
</div>
</div>
<div class="paragraph">
<p>Or better in my VSCodium, all I just need to do is to hover over the function and I get a really neat looking documentation as a popup as shown:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/docstring.png" alt="docstring">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_anonymous_functions">9.12. Anonymous Functions</h3>
<div class="paragraph">
<p>It is possible to define a function without a name, try out the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; anonymous_function.clj</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">print-something</span><span class="w">
  </span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">something</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">something</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="nf">print-something</span><span class="w"> </span><span class="s">"something is better than nothing"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>something is better than nothing</pre>
</div>
</div>
<div class="paragraph">
<p>Look at this snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">something</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">something</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This actually returns a function that accepts a single argument called <code>something</code>, and when <code>something</code> is passed with a value it prints it. Note that the function returned in above snippet of code has no name. It&#8217;s like a newly born baby. It&#8217;s a function, but we have no way to identify it.</p>
</div>
<div class="paragraph">
<p>Now this anonymous function can be given a name by attaching it to a variable like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">print-something</span><span class="w">
  </span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">something</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">something</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above snippet of code, the anonymous function that prints <code>something</code> is defined to a name <code>print-something</code>, so from now on we can use it like <code>(print-something "something is better than nothing")</code>.</p>
</div>
<div class="paragraph">
<p>In fact, the <code>defn</code> in Clojure means <code>fn</code> function that&#8217;s been <code>def</code> defined or attached to a variable.</p>
</div>
<div class="paragraph">
<p>In short we can write this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">print-something</span><span class="w">
  </span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">something</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">something</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">print-something</span><span class="w"> </span><span class="p">[</span><span class="n">something</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">something</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and it would work fine.</p>
</div>
</div>
<div class="sect2">
<h3 id="_functions_returning_functions">9.13. Functions returning functions</h3>
<div class="paragraph">
<p>One may be wondering what&#8217;s the use of anonymous functions, well take a look at the example below and execute it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; function_returning_function.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">multiplier</span><span class="w"> </span><span class="p">[</span><span class="n">multiply-with</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">multiply-with</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">double-it</span><span class="w">
  </span><span class="p">(</span><span class="nf">multiplier</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">triple-it</span><span class="w">
  </span><span class="p">(</span><span class="nf">multiplier</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="nf">double-it</span><span class="w"> </span><span class="mi">21</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">triple-it</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When <code>(double-it 21)</code> is run, it returns <code>42</code>, now let&#8217;s look at the definition of double it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">double-it</span><span class="w">
  </span><span class="p">(</span><span class="nf">multiplier</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Well, in the above code, <code>double-it</code> is assigned to the output of <code>(multiplier 2)</code>, since <code>double-it</code> acts like a function, then <code>(multiplier 2)</code> should return a function, so let&#8217;s look at the source of <code>multiplier</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">multiplier</span><span class="w"> </span><span class="p">[</span><span class="n">multiply-with</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">multiply-with</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now take a look at what <code>multiplier</code> returns:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">multiply-with</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It returns a function as shown above, now if we replace <code>multiply-with</code> with <code>2</code>, we get as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So in the above code, we have a function that takes a <code>number</code> and returns its product with <code>2</code>. Now plug it in <code>double-it</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">double-it</span><span class="w">
  </span><span class="p">(</span><span class="nf">multiplier</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>we get:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">double-it</span><span class="w">
  </span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In short we can write it as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">double-it</span><span class="w"> </span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So what we have done is, in <code>multiplier</code>, we are building functions and returning it, and we are giving a name to it. Don&#8217;t you think it&#8217;s a powerful concept?</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_spec">10. Spec</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/spec.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/spec.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Clojure&#8217;s code is nothing but functions manipulating data. Data can be of any type like String, Number, Map, Vector, Set and so on. When data of the right type and format is not given to a function, the function might not work properly. So Clojure has inbuilt libraries that help you to check the data type, these are called spec. May be one could you them in pre-condition checking to see if the received data is of the right type and format, and you can use it in post condition checking to see if the received data is of the right type and format.</p>
</div>
<div class="paragraph">
<p>So in order to use spec, let&#8217;s require it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.spec.alpha</span><span class="w"> </span><span class="no">:as</span><span class="w"> </span><span class="n">s</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we have required <code>spec</code> as <code>s</code>, so  rather than calling functions like <code>spec/something</code>, we can call it as <code>s/something</code> from now on.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s now see how to check if something is a string:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="nb">string?</span><span class="w"> </span><span class="s">"Hello"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>So, if you see the above code, we use a function called <code>s/valid?</code> and we pass a function called <code>string?</code>, which gives true or false if the passed argument is string or not. Now as a second argument to <code>s/valid?</code> we give <code>"Hello"</code>. <code>s/valid?</code> applies the function <code>string?</code> to the argument <code>"Hello"</code>, it returns <code>true</code> and hence <code>s/valid?</code> returns <code>true</code>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say we want to see 42 is a string, we specify it as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="nb">string?</span><span class="w"> </span><span class="mi">42</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>Since <code>(string? 42)</code> returns <code>false</code>, `(s/valid? string? 42) ` also returns false, thus failing the validation.</p>
</div>
<div class="paragraph">
<p>Below is the code to check if the passed argument is a number:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">number?</span><span class="w"> </span><span class="mi">42</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>For that to <code>s/valid?</code> we pass the function <code>number?</code> as first argument, and <code>42</code> as second argument. Since 42 is a number, <code>(number? 42)</code> returns <code>true</code> and <code>(s/valid? number? 42)</code> also returns <code>true</code>.</p>
</div>
<div class="paragraph">
<p>Similarly below we check if something is an integer:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">integer?</span><span class="w"> </span><span class="mi">123</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>We check if something is double in the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">double?</span><span class="w"> </span><span class="mf">123.45</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>Think of double as a number having a decimal point. In the below code 123 does not have a decimal point, so the check that it&#8217;s a double fail&#8217;s:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">double?</span><span class="w"> </span><span class="mi">123</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>We can also check for collections or sequences, we check if <code>[1 2 3]</code> is a vector, which is true:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="nb">vector?</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>We check if passed argument is a map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="nb">map?</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="s">"one"</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="s">"two"</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>Below we check for set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">set?</span><span class="w"> </span><span class="o">#</span><span class="p">{</span><span class="no">:apple</span><span class="w"> </span><span class="no">:orange</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>We check for keyword:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="nb">keyword?</span><span class="w"> </span><span class="no">:ubuntu</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>Say we want to check if something is a valid percentage, say in a grading system, a student can have grades from 0% to 100%, and he cannot have something negative, or something greater than 100. For that let&#8217;s write a function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">valid-%?</span><span class="w"> </span><span class="p">(</span><span class="nf">s/and</span><span class="w"> </span><span class="n">number?</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="nb">&gt;=</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="mi">100</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/valid-%?</pre>
</div>
</div>
<div class="paragraph">
<p>So a percentage mark should be a number, so we get a code like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">number?</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>and</strong> it should be greater than zero, so for the and, we use spec&#8217;s <code>and</code> function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/and</span><span class="w">
  </span><span class="n">number?</span><span class="w">
  </span><span class="c1">;; something to check if it's greater than zero</span><span class="w">
</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To check if it&#8217;s greater than or equal to zero, let&#8217;s write an anonymous function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/and</span><span class="w">
  </span><span class="n">number?</span><span class="w">
  </span><span class="o">#</span><span class="p">(</span><span class="nb">&gt;=</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now it should be less than or equal to 100, so for the and, we write a function and add it to and block as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/and</span><span class="w">
  </span><span class="n">number?</span><span class="w">
  </span><span class="o">#</span><span class="p">(</span><span class="nb">&gt;=</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
  </span><span class="o">#</span><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w">
</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s define the entire stuff to some variable, I would call this variable valid percent, and it will be written like <code>valid-%?</code>, so the final code will look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">valid-%?</span><span class="w">
  </span><span class="p">(</span><span class="nf">s/and</span><span class="w">
    </span><span class="n">number?</span><span class="w">
    </span><span class="o">#</span><span class="p">(</span><span class="nb">&gt;=</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
    </span><span class="o">#</span><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="mi">100</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To show that you are professional Clojure programmer, you will put all in one line like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="p">[</span><span class="n">source,</span><span class="w"> </span><span class="n">clojure</span><span class="p">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>(def valid-%? (s/and number? #(&gt;= % 0) #(&#8656; % 100)))</p>
</div>
<div class="listingblock">
<div class="content">
<pre> (s/and number? #(&gt;= % 0) #(&lt;= % 100)))</pre>
</div>
</div>
<div class="paragraph">
<p>So we have got our <code>valid-%?</code>, now let&#8217;s use it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">valid-%?</span><span class="w"> </span><span class="mi">85</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>In the code above, 85 is a number, and it lies between 0 and 100, so it&#8217;s a valid percentage and hence we get the output as <code>true</code>. In the example below, 105% makes no sense in grading, and hence it returns <code>false</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">valid-%?</span><span class="w"> </span><span class="mi">105</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>Similarly -15 is less than 0, so the below example returns false.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">valid-%?</span><span class="w"> </span><span class="mi">-15</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Exercise</strong></p>
</div>
<div class="paragraph">
<p>Write a spec named <code>string-or-symbol?</code>, it must work like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">string-or-symbol?</span><span class="w"> </span><span class="s">"abc"</span><span class="p">)</span><span class="w"> </span><span class="c1">;; true</span><span class="w">
</span><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">string-or-symbol?</span><span class="w"> </span><span class="no">:abc</span><span class="p">)</span><span class="w"> </span><span class="c1">;; true</span><span class="w">
</span><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">string-or-symbol?</span><span class="w"> </span><span class="mi">42</span><span class="p">)</span><span class="w"> </span><span class="c1">;; false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For this exercise, one my take a look at <a href="https://clojuredocs.org/clojure.spec.alpha/or" class="bare">https://clojuredocs.org/clojure.spec.alpha/or</a></p>
</div>
<div class="sect2">
<h3 id="_specing_collection">10.1. Specing collection</h3>
<div class="paragraph">
<p>So let&#8217;s see how to spec collections, in the example below, we define <code>string-collection?</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">string-collection?</span><span class="w"> </span><span class="p">(</span><span class="nf">s/coll-of</span><span class="w"> </span><span class="nb">string?</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/string-collection?</pre>
</div>
</div>
<div class="paragraph">
<p>So it&#8217;s defined as follows <code>(s/coll-of string?)</code>, so the <code>coll-of</code> is a spec function, and it&#8217;s been told to check if all in a collection are of the type <code>string?</code>. Now let&#8217;s apply <code>string-collection?</code> on an array of strings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">string-collection?</span><span class="w"> </span><span class="p">[</span><span class="s">"Hi"</span><span class="w"> </span><span class="s">"Hello"</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>And it passes. Note that we pass <code>string-collection?</code> as an argument to <code>valid?</code>, and as a second argument we pass the array of strings <code>["Hi" "Hello"]</code>.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s get bit more complicated and check if an array contains numbers and strings, look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">number-or-string?</span><span class="w"> </span><span class="p">(</span><span class="nf">s/or</span><span class="w"> </span><span class="no">:number</span><span class="w"> </span><span class="n">number?</span><span class="w"> </span><span class="no">:string</span><span class="w"> </span><span class="nb">string?</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/number-or-string?</pre>
</div>
</div>
<div class="paragraph">
<p>So in the above code we define <code>number-or-string?</code>, concentrate on this piece of code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/or</span><span class="w"> </span><span class="no">:number</span><span class="w"> </span><span class="n">number?</span><span class="w"> </span><span class="no">:string</span><span class="w"> </span><span class="nb">string?</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above code we use <code>or</code> function in spec, and to it, we pass four arguments, the first two being <code>:number number?</code>, and the second two being <code>:string string?</code>. Don&#8217;t get confused by the pair of arguments now, you will understand why so soon. So the <code>or</code> receives <code>number?</code> and <code>string?</code> as arguments, prepended by keywords, so it passes when it either encounters a number or a string.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s put it into action, here I am testing it on a number, and it passes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">number-or-string?</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>I test it on string and it passes too:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">number-or-string?</span><span class="w"> </span><span class="s">"Hi"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>Now if I want to check if a collection only has number or string I write a code as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">number-or-string-collection?</span><span class="w"> </span><span class="p">(</span><span class="nf">s/coll-of</span><span class="w"> </span><span class="n">number-or-string?</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/number-or-string-collection?</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code we pass <code>number-or-string?</code> to <code>coll-of</code> which turns it into a collection checker, it&#8217;s been defined to <code>number-or-string-collection?</code>, so from now on <code>number-or-string-collection?</code> will check if collection contains numbers and strings, if it contains anything other than that, it will fail.</p>
</div>
<div class="paragraph">
<p>So the below collection / vector contains numbers and string and so it passes <code>number-or-string-collection?</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">number-or-string-collection?</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="s">"Hi"</span><span class="w"> </span><span class="s">"India"</span><span class="w"> </span><span class="mi">42</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>The below vector contains a keyword and so it fails:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">number-or-string-collection?</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="s">"Hi"</span><span class="w"> </span><span class="s">"India"</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="no">:keyword</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_inspecting_collections">10.2. Inspecting Collections</h3>
<div class="paragraph">
<p>Now let&#8217;s see how to inspect data in collection, say we have a vector that contains details of a person, say name, age and gender, let&#8217;s see how to do it.</p>
</div>
<div class="paragraph">
<p>So the name will be a string, so we have something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="no">:name</span><span class="w"> </span><span class="nb">string?</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The age will be a number, so let&#8217;s add it too:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="no">:name</span><span class="w"> </span><span class="nb">string?</span><span class="w"> </span><span class="no">:age</span><span class="w"> </span><span class="n">number?</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Since I am in India, we have only three genders here, so I safely assume we can represent it with few keywords, so the cod becomes like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="no">:name</span><span class="w"> </span><span class="nb">string?</span><span class="w"> </span><span class="no">:age</span><span class="w"> </span><span class="n">number?</span><span class="w"> </span><span class="no">:gender</span><span class="w"> </span><span class="nb">keyword?</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now I pass these six things above to a function called <code>cat</code> <sup class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup> in Clojure spec and we gt a code as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojuredocs">(s/cat :name string? :age number? :gender keyword?)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s give the chunk of code above a name, let&#8217;s name it as <code>valid-person-vector?</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">valid-person-vector?</span><span class="w"> </span><span class="p">(</span><span class="nf">s/cat</span><span class="w"> </span><span class="no">:name</span><span class="w"> </span><span class="nb">string?</span><span class="w"> </span><span class="no">:age</span><span class="w"> </span><span class="n">number?</span><span class="w"> </span><span class="no">:gender</span><span class="w"> </span><span class="nb">keyword?</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>user/valid-person-vector?</pre>
</div>
</div>
<div class="paragraph">
<p>So now if you pass a vector to <code>valid-person-vector?</code> which has a string, number and a keyword it passes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">valid-person-vector?</span><span class="w"> </span><span class="p">[</span><span class="s">"Karthik"</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="no">:male</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>Else it would fail.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s look at checking maps, let&#8217;s say the maps should have certain keys, for that we can use the <code>keys</code> <sup class="footnote">[<a id="_footnoteref_6" class="footnote" href="#_footnotedef_6" title="View footnote.">6</a>]</sup> function in spec.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">valid-person-map?</span><span class="w">
  </span><span class="p">(</span><span class="nf">s/keys</span><span class="w"> </span><span class="no">:req-un</span><span class="w"> </span><span class="p">[</span><span class="no">::name</span><span class="w">
                   </span><span class="no">::age</span><span class="w">
                   </span><span class="no">::gender</span><span class="p">]))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/valid-person-map?</pre>
</div>
</div>
<div class="paragraph">
<p>I am not sure what&#8217;s the full form of <code>:req-un</code> passed to the <code>keys</code>, but after the <code>:req-un</code>, we pass a vector which contains all the keys that a map should have, and so we get <code>(s/keys :req-un [::name ::age ::gender])</code>. I think the double colon in the keywords is to indicate that they belong to this name space. I don&#8217;t understand it well, if you don&#8217;t, don&#8217;t worry much now. So we assign a name to it, and call it ` valid-person-map?`, and hence we finally get this code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">valid-person-map?</span><span class="w">
  </span><span class="p">(</span><span class="nf">s/keys</span><span class="w"> </span><span class="no">:req-un</span><span class="w"> </span><span class="p">[</span><span class="no">::name</span><span class="w">
                   </span><span class="no">::age</span><span class="w">
                   </span><span class="no">::gender</span><span class="p">]))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s use it to check a map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">valid-person-map?</span><span class="w"> </span><span class="p">{</span><span class="no">:name</span><span class="w"> </span><span class="s">"Karthik"</span><span class="w">
                             </span><span class="no">:age</span><span class="w"> </span><span class="mi">40</span><span class="w">
                             </span><span class="no">:gender</span><span class="w"> </span><span class="no">:male</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>The map in the code above passes because it contains the keys <code>:name</code>, <code>:age</code>, and <code>:gender</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_checking_maps">10.3. Checking Maps</h3>
<div class="paragraph">
<p>Let say we want to check maps. A map has keys, so we need to check if the required keys exist. The key will be mapped to data, so we need to check if the data conforms to some rules. Let&#8217;s say the map needs to have a key named ':name' and it should map to a string value, then we can spec it as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/def</span><span class="w"> </span><span class="no">::name</span><span class="w"> </span><span class="nb">string?</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:user/name</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s say the map needs to have a key named ':age' and it should map to an integer value, then we can spec it as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/def</span><span class="w"> </span><span class="no">::age</span><span class="w"> </span><span class="n">int?</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:user/age</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s say the map needs to have a key named ':gender' and it should map to a keyword value, then we can spec it as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/def</span><span class="w"> </span><span class="no">::gender</span><span class="w"> </span><span class="nb">keyword?</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:user/gender</pre>
</div>
</div>
<div class="paragraph">
<p>So now let&#8217;s combine the above three specs and name it into a spec called <code>::person</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/def</span><span class="w"> </span><span class="no">::person</span><span class="w"> </span><span class="p">(</span><span class="nf">s/keys</span><span class="w"> </span><span class="no">:req-un</span><span class="w"> </span><span class="p">[</span><span class="no">::name</span><span class="w"> </span><span class="no">::age</span><span class="w"> </span><span class="no">::gender</span><span class="p">]))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:user/person</pre>
</div>
</div>
<div class="paragraph">
<p>Note how we use <code>(s/keys :req-un [::name ::age ::gender])</code>, which means, in the code above <code>::person</code> will check for map that has key called <code>:name</code> which maps to a string value, the map must contain <code>:age</code> which must map to an integer value, and it must contain a key, which is a keyword <code>:gender</code> and it must map to another keyword.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s test it out:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="no">::person</span><span class="w"> </span><span class="p">{</span><span class="no">:name</span><span class="w"> </span><span class="s">"Karthik"</span><span class="w">
                    </span><span class="no">:age</span><span class="w"> </span><span class="mi">40</span><span class="w">
                    </span><span class="no">:gender</span><span class="w"> </span><span class="no">:male</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>true</pre>
</div>
</div>
<div class="paragraph">
<p>And it passed. Now let&#8217;s change <code>:age</code> to <code>"40"</code> and test it out:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="no">::person</span><span class="w"> </span><span class="p">{</span><span class="no">:name</span><span class="w"> </span><span class="s">"Karthik"</span><span class="w">
                    </span><span class="no">:age</span><span class="w"> </span><span class="s">"40"</span><span class="w">
                    </span><span class="no">:gender</span><span class="w"> </span><span class="no">:male</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>It fails.</p>
</div>
</div>
<div class="sect2">
<h3 id="_explaining_spec">10.4. Explaining Spec</h3>
<div class="paragraph">
<p>Clojure gives a spec function called <code>explain</code> that tells in somwe what bit human friendly way why something failed a spec validation.</p>
</div>
<div class="paragraph">
<p>See the example below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/explain</span><span class="w"> </span><span class="n">number?</span><span class="w"> </span><span class="s">"42"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"42" - failed: number?</pre>
</div>
</div>
<div class="paragraph">
<p>See the output, see how thr <code>explain</code> explains a bit.</p>
</div>
<div class="paragraph">
<p>For specs that pass, explain give out a <code>Success!</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/explain</span><span class="w"> </span><span class="n">number?</span><span class="w"> </span><span class="mi">42</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Success!</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/explain</span><span class="w"> </span><span class="n">number-or-string?</span><span class="w"> </span><span class="s">"56"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Success!</pre>
</div>
</div>
<div class="paragraph">
<p>See how explain says <code>:56</code> is a neither a number nor a string below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/explain</span><span class="w"> </span><span class="n">number-or-string?</span><span class="w"> </span><span class="no">:56</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:56 - failed: number? at: [:number]
:56 - failed: string? at: [:string]
nil</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s make <code>number-or-string?</code> pass the spec now:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/explain</span><span class="w"> </span><span class="n">number-or-string?</span><span class="w"> </span><span class="mi">56</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Success!
nil</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_conform">10.5. Conform</h3>
<div class="paragraph">
<p>There is also another function called <code>conform</code> which checks if a data conforms to a spec. See the example below what happens when data conforms to a spec:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/conform</span><span class="w"> </span><span class="n">number?</span><span class="w"> </span><span class="mi">42</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>42</pre>
</div>
</div>
<div class="paragraph">
<p><code>conform</code> throws an invalid if something is not conforming to a spec:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/conform</span><span class="w"> </span><span class="n">number?</span><span class="w"> </span><span class="s">"42"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>clojure.spec.alpha/invalid</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">s/conform</span><span class="w"> </span><span class="n">number-or-string?</span><span class="w"> </span><span class="no">:56</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:clojure.spec.alpha/invalid</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_spec_in_functions">10.6. Using Spec In Functions</h3>
<div class="paragraph">
<p>If one is wondering why these specs, and why so much of functionality is built into the spec library, then this is the answer:</p>
</div>
<div class="paragraph">
<p>In Clojure we usually don&#8217;t use objects to passed to functions, we prefer simple data types like vector, maps, sets etc. So when such thing is done, we need to check the integrity and conformity of data, specs are very useful for that.</p>
</div>
<div class="paragraph">
<p>Take a look at the example below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">add-two-numbers</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">{</span><span class="no">:pre</span><span class="w"> </span><span class="p">[(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">number?</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w">
         </span><span class="p">(</span><span class="nf">s/valid?</span><span class="w"> </span><span class="n">number?</span><span class="w"> </span><span class="n">b</span><span class="p">)]}</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">add-two-numbers</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>8</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">add-two-numbers</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="s">"5"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>; Execution error (AssertionError) at user/add-two-numbers (REPL:100).
; Assert failed: (s/valid? number? b)</pre>
</div>
</div>
<div class="paragraph">
<p>We are checking in <code>:pre</code> hook if the passed arguments to a function <code>a</code> and <code>b</code> are numbers or not, if not the function does not execute as you can see from the output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>; Execution error (AssertionError) at user/add-two-numbers (REPL:100).
; Assert failed: (s/valid? number? b)</pre>
</div>
</div>
<div class="paragraph">
<p>for <code>(add-two-numbers 3 "5")</code>.</p>
</div>
<div class="paragraph">
<p>Similarly, in the <code>:post</code> hook we can check the integrity of returned data so that the data does not break the code down the line.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_is_clojure_code">11. What is Clojure code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Clojure is a dialect of Lisp. Lisp stands for list processing. That is almost all Clojure code is a list data structure. In lisp, program is a data structure, and data structure could be treated as a program, which gives it enormous power.</p>
</div>
<div class="paragraph">
<p>Clojure&#8217;s code follows one pattern and that is this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(function-name argument-1 .... argument-n)</pre>
</div>
</div>
<div class="paragraph">
<p>See above how everything is enclosed in <code>(</code> and <code>)</code> which is a list data structure, and as a list processing language Clojure has the knowledge to process it.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s consider the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The above list could be represented as following, the <code>*</code> function receives two arguments, the first one is <code>5</code> and the second one is (+ 1 2 3). This can be diagrammatically represented as follows:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/what-is-clojure-code-1.png" alt="what is clojure code 1">
</div>
</div>
<div class="paragraph">
<p>Now look at the deepest blue dots, that is <code>1</code>, <code>2</code> and <code>3</code>, they feed into the <code>+</code> function and gets reduced to 6, so we get a new data structure as shown:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/what-is-clojure-code-2.png" alt="what is clojure code 2">
</div>
</div>
<div class="paragraph">
<p>This can be written as shown:</p>
</div>
<div class="paragraph">
<p>(* 5 6) in lisp. That is <code>5</code> and <code>6</code> get&#8217;s fed into <code>*</code> function which multiplies it and we get <code>30</code> as output.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/what-is-clojure-code-3.png" alt="what is clojure code 3">
</div>
</div>
<div class="paragraph">
<p>Because Clojure is lisp, it has excellent uniformity in code, unlike Object-Oriented languages one may need not remember complex syntax, it&#8217;s light on your brain freeing your other neurons to tackle the business problems.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sequence">12. Sequence</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/sequence.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/sequence.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In Clojure count counts the number of elements in a list.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>4</pre>
</div>
</div>
<div class="paragraph">
<p>It counts the number of elements in a vector.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>4</pre>
</div>
</div>
<div class="paragraph">
<p>It also works for set.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="o">#</span><span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>4</pre>
</div>
</div>
<div class="paragraph">
<p>And, for maps too.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="p">{</span><span class="no">:one</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="no">:two</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="no">:three</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="no">:four</span><span class="w"> </span><span class="mi">4</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>4</pre>
</div>
</div>
<div class="paragraph">
<p>Now one has to think if <code>count</code> looks at the type of argument passed to it and for each type calls a different algorithm, or does it work smart by converting the passed argument into a common data type and counting it.</p>
</div>
<div class="paragraph">
<p>Well, there is a function called <code>seq</code> <sup class="footnote">[<a id="_footnoteref_7" class="footnote" href="#_footnotedef_7" title="View footnote.">7</a>]</sup>, which converts all the above data types to a list:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(1 2 3 4)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(1 2 3 4)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="o">#</span><span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(1 4 3 2)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="p">{</span><span class="no">:one</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="no">:two</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="no">:three</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="no">:four</span><span class="w"> </span><span class="mi">4</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>([:one 1] [:two 2] [:three 3] [:four 4])</pre>
</div>
</div>
<div class="paragraph">
<p>Now all count needs to do is to count elements in a list as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>4</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="o">'</span><span class="p">([</span><span class="no">:one</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="no">:two</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="no">:three</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="no">:four</span><span class="w"> </span><span class="mi">4</span><span class="p">]))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>4</pre>
</div>
</div>
<div class="paragraph">
<p>Now think about <code>partition</code> and other functions that that work on collections and try it for yourself:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="o">#</span><span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="s">"one"</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="s">"two"</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="s">"three"</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">partition</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="s">"one"</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="s">"two"</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="s">"three"</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="s">"four"</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">partition</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="s">"one"</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="s">"two"</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="s">"three"</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="s">"four"</span><span class="p">}))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">partition</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">partition</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">partition</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">#</span><span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">partition</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="o">#</span><span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">}))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">partition</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">partition</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">]))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_lazy_sequence">13. Lazy Sequence</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some sequences are evaluated only when they need to be evaluated, these are called lazy sequence. For example you can very easily create a lazy sequence of infinite numbers, or any other thing and your computer won&#8217;t crash.</p>
</div>
<div class="paragraph">
<p>It&#8217;s like this, when I say infinite, your brain doesn&#8217;t crash, it just knows the concept of infinity and how it would fit into mathematics, when you need to use it in mathematics say in calculus, you still are able to apply and use it.</p>
</div>
<div class="sect2">
<h3 id="_repeat">13.1. repeat</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/lazy_sequence_repeat.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/lazy_sequence_repeat.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>So let&#8217;s take a look at <code>repeat</code> function. Take a look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">multiverse</span><span class="w"> </span><span class="p">(</span><span class="nb">repeat</span><span class="w"> </span><span class="s">"universe"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above code, we are creating a variable named <code>multiverse</code> which has many <code>"universe"</code> in it, theoretically it is infinite. So treating it as a sequence, let&#8217;s take the first element from it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">multiverse</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"universe"</pre>
</div>
</div>
<div class="paragraph">
<p>And we get <code>"universe"</code>. Now let&#8217;s take 5 elements from it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">take</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">multiverse</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>("universe" "universe" "universe" "universe" "universe")</pre>
</div>
</div>
<div class="paragraph">
<p>We get 5 universes. Let&#8217;s take the <code>rest</code> from it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="n">multiverse</span><span class="p">)</span><span class="w"> </span><span class="c1">;; doesn't seem to work</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And it throws an error, how can you get rest of infinite universes any way?</p>
</div>
<div class="paragraph">
<p>Similarly, <code>last</code> too throws error, how can you get the last element of infinite sequence?:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">last</span><span class="w"> </span><span class="n">multiverse</span><span class="p">)</span><span class="w"> </span><span class="c1">;; doesn't seem to work</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s get the 10,001<sup>st</sup> multiverse:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">nth</span><span class="w"> </span><span class="n">multiverse</span><span class="w"> </span><span class="mi">10000</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"universe"</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s get the 101<sup>st</sup> multiverse:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">nth</span><span class="w"> </span><span class="n">multiverse</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"universe"</pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s not that repeat creates infinite sequence, we can create finite sequence by telling Clojure how many times to repeat. The code below only creates 5 <code>"universe"</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">repeat</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="s">"universe"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>("universe" "universe" "universe" "universe" "universe")</pre>
</div>
</div>
<div class="paragraph">
<p>If we try to access the 7<sup>th</sup> element, it throws an exception:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">nth</span><span class="w"> </span><span class="p">(</span><span class="nb">repeat</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="s">"universe"</span><span class="p">)</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>; Execution error (IndexOutOfBoundsException) at user/eval2056 (REPL:11).
; null</pre>
</div>
</div>
<div class="paragraph">
<p>Whereas, since there are only 5 elements in <code>(repeat 5 "universe")</code>, the code below only retrieves the 4<sup>th</sup> element, so it works.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">nth</span><span class="w"> </span><span class="p">(</span><span class="nb">repeat</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="s">"universe"</span><span class="p">)</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"universe"</pre>
</div>
</div>
<div class="paragraph">
<p>Since <code>(repeat 5 "universe")</code> has finite elements <code>rest</code> works on it without raising any exceptions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">rest</span><span class="w"> </span><span class="p">(</span><span class="nb">repeat</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="s">"universe"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>("universe" "universe" "universe" "universe")</pre>
</div>
</div>
<div class="paragraph">
<p>similarly <code>last</code> too works on it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">last</span><span class="w"> </span><span class="p">(</span><span class="nb">repeat</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="s">"universe"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"universe"</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cycle">13.2. cycle</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/lazy_sequence_cycle.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/lazy_sequence_cycle.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s say you want to go through a sequence in a cyclical manner, then `cycle`is the function to use. Take a look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">multiverse</span><span class="w"> </span><span class="p">(</span><span class="nb">cycle</span><span class="w"> </span><span class="p">[</span><span class="s">"universe"</span><span class="w"> </span><span class="s">"antiverse"</span><span class="p">]))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/multiverse</pre>
</div>
</div>
<div class="paragraph">
<p>The above code theoretically creates an infinite list, attaches it to a variable <code>multiverse</code> where every odd element is <code>"universe"</code> and every even element is <code>"antiverse"</code>. So the first element would be <code>"universe"</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">multiverse</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"universe"</pre>
</div>
</div>
<div class="paragraph">
<p>the second would be <code>"antiverse"</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">second</span><span class="w"> </span><span class="n">multiverse</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"antiverse"</pre>
</div>
</div>
<div class="paragraph">
<p>If we take 5 of it, it would alternate between <code>"universe"</code> and <code>"antiverse"</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">take</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">multiverse</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>("universe" "antiverse" "universe" "antiverse" "universe")</pre>
</div>
</div>
<div class="paragraph">
<p>We can take any <code>nth</code> odd element, and it&#8217;s going to be <code>"universe"</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">nth</span><span class="w"> </span><span class="n">multiverse</span><span class="w"> </span><span class="mi">2000</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"universe"</pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, any <code>nth</code> even element is going to be <code>"antiverse"</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">nth</span><span class="w"> </span><span class="n">multiverse</span><span class="w"> </span><span class="mi">1783</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"antiverse"</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s cycle some South Indian tiffin items:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">tiffin-items</span><span class="w">
  </span><span class="p">(</span><span class="nb">cycle</span><span class="w"> </span><span class="p">[</span><span class="s">"idli"</span><span class="n">,</span><span class="w"> </span><span class="s">"vadai"</span><span class="n">,</span><span class="w"> </span><span class="s">"dosai"</span><span class="n">,</span><span class="w"> </span><span class="s">"sambar"</span><span class="p">]))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/tiffin-items</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s take the 6th element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">nth</span><span class="w"> </span><span class="n">tiffin-items</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"vadai"</pre>
</div>
</div>
<div class="paragraph">
<p>So the last element <code>"sambar"</code> is indexed 3, and hence the 0<sup>th</sup> element behaves like 5<sup>th</sup> and the 1<sup>st</sup> element behaves like 6<sup>th</sup>, like a never ending loop.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s take 10 <code>tiffin-items</code>, see ow it repeats again and again:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">take</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">tiffin-items</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>("idli" "vadai" "dosai" "sambar" "idli" "vadai" "dosai" "sambar" "idli" "vadai")</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_iterate">13.3. iterate</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/lazy_sequence_iterate.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/lazy_sequence_iterate.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>iterate</code> is a very interesting function I found in Clojure, let&#8217;s see an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">all-numbers</span><span class="w"> </span><span class="p">(</span><span class="nb">iterate</span><span class="w"> </span><span class="nb">inc</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/all-numbers</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code we have <code>(iterate inc 1)</code>, that is <code>iterate</code> takes <code>inc</code> as first argument and as a second takes a value. This is assigned to <code>all-numbers</code>. Now let&#8217;s look what will happen if we take the 25th element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">nth</span><span class="w"> </span><span class="n">all-numbers</span><span class="w"> </span><span class="mi">24</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>25</pre>
</div>
</div>
<div class="paragraph">
<p>Doesn&#8217;t the output look like we are applying increment <code>inc</code> on 1 24 times?</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s take first 10 elements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">take</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">all-numbers</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(1 2 3 4 5 6 7 8 9 10)</pre>
</div>
</div>
<div class="paragraph">
<p>Look&#8217;s like the first element 1 is the value we passed to iterate, and looks like 2 is <code>(inc 1)</code>, 3 is <code>(inc (inc 1))</code>. This is what <code>iterate</code> documentation says <a href="https://clojuredocs.org/clojure.core/iterate" class="bare">https://clojuredocs.org/clojure.core/iterate</a>.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s create a function that squares a number:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">squared</span><span class="w"> </span><span class="p">[</span><span class="n">num</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">num,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/squared</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s iterate through squares of 5:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">squares</span><span class="w"> </span><span class="p">(</span><span class="nb">iterate</span><span class="w"> </span><span class="n">squared</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/squares</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s take the first three squares.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">take</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">squares</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(5 25.0 625.0)</pre>
</div>
</div>
<div class="paragraph">
<p>Here is the explanation:</p>
</div>
<div class="paragraph">
<p>First <code>5</code> in <code>(5 25.0 625.0)</code> is the second argument we pass to <code>iterate</code> in <code>(def squares (iterate squared 5))</code>, it&#8217;s returned as it is.</p>
</div>
<div class="paragraph">
<p>The second <code>25</code> is nothing but the first iteration <code>(square 5)</code>.</p>
</div>
<div class="paragraph">
<p>The third <code>625</code> is the second iteration <code>(square (square 5))</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_map_filter_reduce_apply">14. map, filter, reduce, apply</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_map">14.1. map</h3>
<div class="paragraph">
<p>Let&#8217;s say you have a function that acts on an argument, say <code>inc</code>, <code>(inc 1)</code> gives 2. Now if I want to make the <code>inc</code> work on a collection or sequence, how do I do it? Simple, pass it to the <code>map</code>, then followed by collection as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">map</span><span class="w"> </span><span class="nb">inc</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(2 3 4)</pre>
</div>
</div>
<div class="paragraph">
<p>As you can see in the above case <code>map</code> makes each element in <code>[1 2 3]</code> be acted on by the inc method, collects the output in a  list and returns it. So you get <code>(2 3 4)</code> as output.</p>
</div>
<div class="paragraph">
<p>In the case below I pass an anonymous function <code>(fn [x] (+ x 1))</code> to <code>map</code> and make it act upon <code>[1 2 3]</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">map</span><span class="w"> </span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(2 3 4)</pre>
</div>
</div>
<div class="paragraph">
<p>It works just fine, it&#8217;s just to show that you need not have a predefined function and in Clojure you can build small functions just like that.</p>
</div>
<div class="paragraph">
<p>Execute the code below, it works same as the previous examples above:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">map</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(2 3 4)</pre>
</div>
</div>
<div class="paragraph">
<p>There is another way to write anonymous function <code>(fn [x] (+ x 1))</code>, it can be written as <code>#(+ % 1)</code>. You can define the function content between <code>#()</code>, the <code>%</code> signifies the argument been passed to the function, and we want to add 1 to it, so it becomes <code>#(+ % 1)</code>. Isn&#8217;t this more better than <code>(fn [x] (+ x 1))</code>?</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say we have a function that takes two arguments as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In tha above case the function takes two arguments and returns it&#8217;s sun of squares. Now how to make this function work with sequence? Simple pass it to map as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">map</span><span class="w"> </span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">]</span><span class="w">
       </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">
          </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="mi">2</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Next pass the sequence for the first argument, in this case it&#8217;s <code>x</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">map</span><span class="w"> </span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">]</span><span class="w">
       </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">
          </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Next pass the sequence for the second argument, in this case its <code>y</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">map</span><span class="w"> </span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">]</span><span class="w">
       </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">
          </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(5.0 13.0 25.0)</pre>
</div>
</div>
<div class="paragraph">
<p>So the above code works as follows, <code>map</code> takes the first element from <code>[1 2 3]</code>, it&#8217;s <code>1</code> in this case and the first element from <code>[2 3 4]</code>, it&#8217;s <code>2</code> in this case and passes it to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>So this function suns and squares it and returns it as <code>5.0</code>, the map collects it in a list and it becomes <code>(5.0)</code>.</p>
</div>
<div class="paragraph">
<p>Then <code>map</code> take the second argument from <code>[1 2 3]</code> which is <code>2</code>, and <code>[2 3 4]</code> which is <code>3</code> and passes it to the function, and the function returns <code>13.0</code>, which is appended to the list making it <code>(5.0 13.0)</code>, similarly the same is performed on third arguments of the passed sequences and the result <code>25.0</code> is appended to the list and it becomes <code>(5.0 13.0 25.0)</code>, this final list is returned out.</p>
</div>
<div class="paragraph">
<p>In the esample below I have a function called sum-of-squares:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sum-of-squares</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">
     </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Which is nothing but giving a name to this anonymous function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nf">Math/pow</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>we had used previously. We use the name <code>sum-of-squares</code> with map and pass two sequences for <code>x</code> and <code>y</code> and get the same result as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">map</span><span class="w"> </span><span class="n">sum-of-squares</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(5.0 13.0 25.0)</pre>
</div>
</div>
<div class="paragraph">
<p>Below I have defined a function called <code>double-it</code>, which doubles the number passed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">double-it</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/double-it</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s use it in map to double the numbers in a vector:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">map</span><span class="w"> </span><span class="n">double-it</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(2 4 6)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_filter">14.2. filter</h3>
<div class="paragraph">
<p><code>filter</code> collects and returns value of a sequence that when passed to a function returns <code>true</code>. For example <code>(odd? 1)</code> returns <code>true</code>, whereas <code>(odd? 2)</code> returns <code>false</code>. Look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">filter</span><span class="w"> </span><span class="n">odd?</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">11</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(1 3 5 7 9)</pre>
</div>
</div>
<div class="paragraph">
<p>We have <code>filter</code>, as its first argument we pass <code>odd?</code>, and as a second argument we pass numbers from 1 to 10 which is generated by <code>(range 1 11)</code>. Which ever number makes <code>odd?</code> <code>true&#8217;s caught by the `filter</code> and is returned out.</p>
</div>
<div class="paragraph">
<p>In the same way, below, even numbers are returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">filter</span><span class="w"> </span><span class="n">even?</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">11</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(2 4 6 8 10)</pre>
</div>
</div>
<div class="paragraph">
<p>In the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">filter</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">11</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(6 7 8 9 10)</pre>
</div>
</div>
<div class="paragraph">
<p>To the <code>filter</code>, we pass an anonymous function <code>#()</code> whose argument <code>#(%)</code> should be greater <code>#(&gt; %)</code> than 5 <code>#(&gt; % 5)</code>. And all numbers greater than 5, between 1 and 10 are returned out in the above example.</p>
</div>
<div class="paragraph">
<p>In the examples below, all numbers from 1 to 10, that are less than 5 is returned out:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">filter</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">%</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">11</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(1 2 3 4)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">filter</span><span class="w"> </span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">11</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(6 7 8 9 10)</pre>
</div>
</div>
<div class="paragraph">
<p>In the code below I define a function called <code>greater-than-5</code>, which returns true if a number is greater than 5:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">greater-than-5</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>I use it with <code>filter</code> to find numbers that are greater than 5 as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">filter</span><span class="w"> </span><span class="n">greater-than-5</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">11</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(6 7 8 9 10)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reduce">14.3. reduce</h3>
<div class="paragraph">
<p><code>reduce</code> reduces a sequence to a single value, or object depending on the function you pass. Take the example below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">reduce</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10</pre>
</div>
</div>
<div class="paragraph">
<p>To <code>reduce</code> we pass function <code>+</code> and as a second argument a sequence <code>[1 2 3 4]</code>. You can think <code>reduce</code> rewrites the code as follows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This reduces the sequence to a single number 10.</p>
</div>
<div class="paragraph">
<p>Here is a way to multiply a sequence using reduce:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">reduce</span><span class="w"> </span><span class="nb">*</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>24</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s define our own function <code>add</code> which accepts two numbers and returns the result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/add</pre>
</div>
</div>
<div class="paragraph">
<p>We can use it in reduce, just as we used <code>+</code> before:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">reduce</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10</pre>
</div>
</div>
<div class="paragraph">
<p>We can imaging reduce rewrites the above code as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly I wrote my own <code>multiply</code> function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">multiply</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/multiply</pre>
</div>
</div>
<div class="paragraph">
<p>and used it with <code>reduce</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">reduce</span><span class="w"> </span><span class="n">multiply</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>24</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_apply">14.4. apply</h3>
<div class="paragraph">
<p>Let&#8217;s take the <code>+</code> function, it can add numbers like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10</pre>
</div>
</div>
<div class="paragraph">
<p>But if you give it a sequence, it would fail:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="c1">;; error</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>; Execution error (ClassCastException) at java.lang.Class/cast (Class.java:3921).
; Cannot cast clojure.lang.PersistentVector to java.lang.Number</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s pass this <code>+</code> and the sequence to <code>apply</code> function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">apply</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10</pre>
</div>
</div>
<div class="paragraph">
<p>And it works. That&#8217;s because you can imagine apply rewrites the code as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A sequence could be a vector, list or map, so below we are using it on a list of numbers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">apply</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10</pre>
</div>
</div>
<div class="paragraph">
<p>Let me write a function that receives two arguments and all it does is to print it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">my-function</span><span class="w"> </span><span class="p">[</span><span class="n">arg1</span><span class="w"> </span><span class="n">arg2</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Argument 1:"</span><span class="w"> </span><span class="n">arg1</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Argument 2:"</span><span class="w"> </span><span class="n">arg2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/my-function</pre>
</div>
</div>
<div class="paragraph">
<p>I can use this function by giving two arguments to it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">my-function</span><span class="w"> </span><span class="s">"one"</span><span class="w"> </span><span class="s">"two"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Argument 1: one
Argument 2: two
nil</pre>
</div>
</div>
<div class="paragraph">
<p>If the argument is a vector / sequence containing two elements, this would fail:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">my-function</span><span class="w"> </span><span class="p">[</span><span class="s">"one"</span><span class="w"> </span><span class="s">"two"</span><span class="p">])</span><span class="w"> </span><span class="c1">;; error</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>; Execution error (ArityException) at user/eval2061 (REPL:17).
; Wrong number of args (1) passed to: user/my-function</pre>
</div>
</div>
<div class="paragraph">
<p>All we need to do is to pass the function and sequence to <code>apply</code> for it to work:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">apply</span><span class="w"> </span><span class="n">my-function</span><span class="w"> </span><span class="p">[</span><span class="s">"one"</span><span class="w"> </span><span class="s">"two"</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Argument 1: one
Argument 2: two
nil</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_destructuring">15. Destructuring</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Clojure provides rich variety of data types to pack your data like list, vector, maps, set and so on. To make computations with it, you need to unpack it, put the necessary values in variables, and use those variables for computation. This section tells you how to do it.</p>
</div>
<div class="paragraph">
<p>Take a look at the program <code>vector_destructuring.clj</code> which is shown below, type it and execute it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; vector_destructuring.clj</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">people</span><span class="w"> </span><span class="p">[</span><span class="s">"Rehmaan"</span><span class="w"> </span><span class="s">"Kalaam"</span><span class="p">])</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[[</span><span class="n">musician</span><span class="w"> </span><span class="n">scientist</span><span class="p">]</span><span class="w"> </span><span class="n">people</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Musician is"</span><span class="w"> </span><span class="n">musician</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Scientist is"</span><span class="w"> </span><span class="n">scientist</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Musician is Rehmaan
Scientist is Kalaam
nil</pre>
</div>
</div>
<div class="paragraph">
<p>In the line <code>(def people ["Rehmaan" "Kalaam"])</code> we pack <code>"Rehmaan"</code> and <code>"Kalaam"</code> into vector and assign it a name <code>people</code>. Now here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[[</span><span class="n">musician</span><span class="w"> </span><span class="n">scientist</span><span class="p">]</span><span class="w"> </span><span class="n">people</span><span class="p">]</span><span class="w">
  </span><span class="c1">;; other code goes here</span><span class="w">
 </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>in <code>let</code>, take a look at <code>[[musician scientist] people]</code>. Variables <code>musician</code> and <code>scientist</code> points to <code>people</code>. Clojure finds out that <code>people</code> contains <code>"Rehmaan"</code> and <code>"Kalaam"</code> and unpacks <code>"Rehmaan"</code> to <code>musician</code> and <code>"Kalaam"</code> to <code>scientist</code>. Finally, we print out <code>musician</code> and <code>scientist</code> using the <code>println</code> function as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[[</span><span class="n">musician</span><span class="w"> </span><span class="n">scientist</span><span class="p">]</span><span class="w"> </span><span class="n">people</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Musician is"</span><span class="w"> </span><span class="n">musician</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Scientist is"</span><span class="w"> </span><span class="n">scientist</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Take a look at the code <code>vector_destructuring_2.clj</code> below, type it and execute it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; vector_destructuring_2.clj</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">people</span><span class="w"> </span><span class="p">[</span><span class="s">"Rehmaan"</span><span class="w"> </span><span class="s">"Kalaam"</span><span class="p">])</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[[</span><span class="n">musician</span><span class="w"> </span><span class="n">scientist</span><span class="w"> </span><span class="n">artist</span><span class="p">]</span><span class="w"> </span><span class="n">people</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Musician is"</span><span class="w"> </span><span class="n">musician</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Scientist is"</span><span class="w"> </span><span class="n">scientist</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Artist is"</span><span class="w"> </span><span class="n">artist</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Musician is Rehmaan
Scientist is Kalaam
Artist is nil
nil</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code we see variable <code>people</code> is assigned to a vector that contains only 2 values <code>["Rehmaan" "Kalaam"]</code>. Whereas in the let block we are trying to destructure it into three variables namely <code>musician</code>, <code>scientist</code>, and <code>artist</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[[</span><span class="n">musician</span><span class="w"> </span><span class="n">scientist</span><span class="w"> </span><span class="n">artist</span><span class="p">]</span><span class="w"> </span><span class="n">people</span><span class="p">]</span><span class="w">
  </span><span class="c1">;; other stuff goes here</span><span class="w">
  </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case the first two variables, <code>musician</code> gets populated with <code>"Rehmaan"</code> and <code>scientist</code> gets populated with <code>"Kalaam"</code>, but <code>artist</code> gets <code>nil</code>. So when you print them, we get <code>nil</code> getting printed for <code>artist</code>.</p>
</div>
<div class="paragraph">
<p>Now look at the code <code>vector_destructuring_3.clj</code> shown below, type it and execute it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; vector_destructuring_3.clj</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">people</span><span class="w"> </span><span class="p">[</span><span class="s">"Rehmaan"</span><span class="w"> </span><span class="s">"Kalaam"</span><span class="w"> </span><span class="s">"Hussein"</span><span class="w"> </span><span class="s">"Madhavan"</span><span class="p">])</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[[</span><span class="n">musician</span><span class="w"> </span><span class="n">scientist</span><span class="w"> </span><span class="n">artist</span><span class="p">]</span><span class="w"> </span><span class="n">people</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Musician is"</span><span class="w"> </span><span class="n">musician</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Scientist is"</span><span class="w"> </span><span class="n">scientist</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Artist is"</span><span class="w"> </span><span class="n">artist</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Musician is Rehmaan
Scientist is Kalaam
Artist is Hussein
nil</pre>
</div>
</div>
<div class="paragraph">
<p>In the above code we see there are 4 values in <code>people</code>, while you are destructuring it into three variables as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[[</span><span class="n">musician</span><span class="w"> </span><span class="n">scientist</span><span class="w"> </span><span class="n">artist</span><span class="p">]</span><span class="w"> </span><span class="n">people</span><span class="p">]</span><span class="w">
  </span><span class="c1">;; other code goes here</span><span class="w">
  </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We see that <code>musician</code> gets populated with <code>"Rehmaan"</code>, <code>scientist</code> gets populated with <code>"Kalaam"</code>, and <code>artist</code> gets populated with <code>"Hussein"</code>, but the last value in <code>people</code> that is <code>"Madhavan"</code> gets left out.</p>
</div>
<div class="paragraph">
<p>In the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; vector_destructuring_4.clj</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">people</span><span class="w"> </span><span class="p">[</span><span class="s">"Rehmaan"</span><span class="w"> </span><span class="s">"Kalaam"</span><span class="w"> </span><span class="s">"Hussein"</span><span class="w"> </span><span class="s">"Madhavan"</span><span class="p">])</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[[</span><span class="n">musician</span><span class="w"> </span><span class="n">scientist</span><span class="w"> </span><span class="n">artist</span><span class="w"> </span><span class="n">actor</span><span class="p">]</span><span class="w"> </span><span class="n">people</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Musician is"</span><span class="w"> </span><span class="n">musician</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Scientist is"</span><span class="w"> </span><span class="n">scientist</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Artist is"</span><span class="w"> </span><span class="n">artist</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Actor is"</span><span class="w"> </span><span class="n">actor</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Musician is Rehmaan
Scientist is Kalaam
Artist is Hussein
Actor is Madhavan
nil</pre>
</div>
</div>
<div class="paragraph">
<p>All values in <code>people</code> gets unpacked properly into the variables <code>musician</code>, <code>scientist</code>, <code>artist</code> and <code>actor</code>.</p>
</div>
<div class="paragraph">
<p>It&#8217;s a convention to use underscore <code><em></code> for values we won&#8217;t use, in code below we need only to use <code>scientist</code> and <code>actor</code>, for other unused values we capture it into a variable named <code></em></code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; vector_destructuring_5.clj</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">people</span><span class="w"> </span><span class="p">[</span><span class="s">"Rehmaan"</span><span class="w"> </span><span class="s">"Kalaam"</span><span class="w"> </span><span class="s">"Hussein"</span><span class="w"> </span><span class="s">"Madhavan"</span><span class="p">])</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[[</span><span class="n">_</span><span class="w"> </span><span class="n">scientist</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="n">actor</span><span class="p">]</span><span class="w"> </span><span class="n">people</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Scientist is"</span><span class="w"> </span><span class="n">scientist</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Actor is"</span><span class="w"> </span><span class="n">actor</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Scientist is Kalaam
Actor is Madhavan
nil</pre>
</div>
</div>
<div class="paragraph">
<p>This is just to denote to the humans reading code that we are not using it.</p>
</div>
<div class="paragraph">
<p>Though in the above programs we have destructured vectors, it would work perfectly okay with list too, it&#8217;s left to the reader to practice it out.</p>
</div>
<div class="paragraph">
<p>Clojure also provides a way to destructure maps, look at the code <code>map_destructuring.clj</code> below. type it and execute it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; map_destructuring.clj</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">people</span><span class="w">
  </span><span class="p">{</span><span class="no">:musician</span><span class="w"> </span><span class="s">"Rehmaan"</span><span class="w">
   </span><span class="no">:scientist</span><span class="w"> </span><span class="s">"Kalaam"</span><span class="w">
   </span><span class="no">:artist</span><span class="w"> </span><span class="s">"Hussein"</span><span class="w">
   </span><span class="no">:actor</span><span class="w"> </span><span class="s">"Madhavan"</span><span class="p">})</span><span class="w">

</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[{</span><span class="n">scientist</span><span class="w"> </span><span class="no">:scientist</span><span class="w"> </span><span class="n">actor</span><span class="w"> </span><span class="no">:actor</span><span class="p">}</span><span class="w"> </span><span class="n">people</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Scientist is"</span><span class="w"> </span><span class="n">scientist</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="s">"Actor is"</span><span class="w"> </span><span class="n">actor</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Scientist is Kalaam
Actor is Madhavan
nil</pre>
</div>
</div>
<div class="paragraph">
<p>So if you look at:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">people</span><span class="w">
  </span><span class="p">{</span><span class="no">:musician</span><span class="w"> </span><span class="s">"Rehmaan"</span><span class="w">
   </span><span class="no">:scientist</span><span class="w"> </span><span class="s">"Kalaam"</span><span class="w">
   </span><span class="no">:artist</span><span class="w"> </span><span class="s">"Hussein"</span><span class="w">
   </span><span class="no">:actor</span><span class="w"> </span><span class="s">"Madhavan"</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We have got a map of people with their profession as keyword and name as string. We can destructure this map using keywords as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[{</span><span class="n">scientist</span><span class="w"> </span><span class="no">:scientist</span><span class="w"> </span><span class="n">actor</span><span class="w"> </span><span class="no">:actor</span><span class="p">}</span><span class="w"> </span><span class="n">people</span><span class="p">]</span><span class="w">
    </span><span class="c1">;; other stuff here</span><span class="w">
  </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the code above look at <code>[{scientist :scientist actor :actor} people]</code> see how <code>{scientist :scientist actor :actor}</code> points at <code>people</code>.</p>
</div>
<div class="paragraph">
<p>Now take a look at <code>{scientist :scientist actor :actor}</code>, that kind of looks like a map in reverse. You have got variable <code>scientist</code> followed by keyword <code>:scientist</code>, this pulls out <code>(:scientist people)</code> and assigns it to the variable <code>scientist</code>, similarly variable <code>actor</code> get assigned in the same way, and they are used in the code respectively.</p>
</div>
<div class="paragraph">
<p>It becomes super easy to selectively pick values from a map, put it into variable and use it in Clojure.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_splitting_large_programs">16. Splitting Large Programs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A very small one line Clojure script could be written in a Clojure REPL, a larger one could be written in a file, but what happens when you have too large script in a file, and it becomes difficult to manage? Well you can split it into multiple files. This section explains how to load scripts in another file into your Clojure code.</p>
</div>
<div class="paragraph">
<p>So let&#8217;s say you have program as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calculator.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sub</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">" + "</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="s">" = "</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">" - "</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="s">" = "</span><span class="w"> </span><span class="p">(</span><span class="nf">sub</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>5  +  3  =  8
5  -  3  =  2</pre>
</div>
</div>
<div class="paragraph">
<p>It works okay, but if you see one file does two things. First there is a definition of calculation functions <code>add</code> and <code>sub</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sub</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you are using it to compute something:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">" + "</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="s">" = "</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">" - "</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="s">" = "</span><span class="w"> </span><span class="p">(</span><span class="nf">sub</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Won&#8217;t it be better if we can split it into two different programs? So we cut up the function definitions and put it into a file called <code>calc_lib.clj</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sub</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The in another file called <code>calc_ui.clj</code> shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_ui.clj</span><span class="w">

</span><span class="p">(</span><span class="nb">load-file</span><span class="w"> </span><span class="s">"calc_lib.clj"</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">" + "</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="s">" = "</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">" - "</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="s">" = "</span><span class="w"> </span><span class="p">(</span><span class="nf">sub</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Look at the line <code>(load-file "calc_lib.clj")</code>, here we load the <code>calc_lib.clj</code> file in <code>calc_ui.clj</code>. Now we can find the result of adding and subtracting 3 and 5.</p>
</div>
<div class="paragraph">
<p>Since we have separated calculation functions and put it as a separate file, you can include it in another where say you want to find the addition and difference of between say 8 and 5. This increases reusability.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_records_and_protocols">17. Records and Protocols</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want to learn records and protocols watching video&#8217;s here is one <a href="https://www.youtube.com/watch?v=xpH6RGjZwNg" class="bare">https://www.youtube.com/watch?v=xpH6RGjZwNg</a>.</p>
</div>
<div class="paragraph">
<p>Clojure came during an era when Object Oriented Programming (OOP) was at a peak, then, due to large code bases OOP started to failed and people started looking into functional programming. So I find it not surprising that Clojure gives some ways to create objects and do stuff with them.</p>
</div>
<div class="paragraph">
<p>In Clojure Object is nothing but a glorified map, and nothing more. You may not use it, but you can.</p>
</div>
<div class="sect2">
<h3 id="_creating_objects">17.1. Creating objects</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/record.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/record.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Objects are called Records in Clojure, so let&#8217;s create our first record called <code>Car</code> which would hold the <code>name</code> and <code>top-speed</code> of the car as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defrecord</span><span class="w"> </span><span class="n">Car</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="w"> </span><span class="n">top-speed</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>user.Car</pre>
</div>
</div>
<div class="paragraph">
<p>As you see from the output this creates something called <code>user.Car</code>. User is the default namespace, and I think <code>.Car</code> represents the record. If <code>Car</code> was just a variable, we would have got an output like <code>user/Car</code>.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s define a variable called <code>tata-nano</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">tata-nano</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Of the the type car:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">tata-nano</span><span class="w"> </span><span class="p">(</span><span class="nf">-&gt;Car</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>While we created record <code>Car</code>, the first thing we specified was <code>name</code> and then <code>top-speed</code>, so in that same order, let&#8217;s give a name for <code>tata-nano</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">tata-nano</span><span class="w"> </span><span class="p">(</span><span class="nf">-&gt;Car</span><span class="w"> </span><span class="s">"Tata Nano"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And specify it&#8217;s top speed as <code>120</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">tata-nano</span><span class="w"> </span><span class="p">(</span><span class="nf">-&gt;Car</span><span class="w"> </span><span class="s">"Tata Nano"</span><span class="w"> </span><span class="mi">120</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s now execute the code above:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">tata-nano</span><span class="w"> </span><span class="p">(</span><span class="nf">-&gt;Car</span><span class="w"> </span><span class="s">"Tata Nano"</span><span class="w"> </span><span class="mi">120</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/tata-nano</pre>
</div>
</div>
<div class="paragraph">
<p>So a variable <code>tata-nano</code> is created in <code>user</code> namespace, this is not a simple value, but an object containing two values.</p>
</div>
<div class="paragraph">
<p>Object is a glorified hash in Clojure, so you can access <code>:name</code> of <code>tata-nano</code> just like you do with a has as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="no">:name</span><span class="w"> </span><span class="n">tata-nano</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Tata Nano"</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">get</span><span class="w"> </span><span class="n">tata-nano</span><span class="w"> </span><span class="no">:name</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Tata Nano"</pre>
</div>
</div>
<div class="paragraph">
<p>Similarly you can access it&#8217;s top speed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="no">:top-speed</span><span class="w"> </span><span class="n">tata-nano</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>120</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">get</span><span class="w"> </span><span class="n">tata-nano</span><span class="w"> </span><span class="no">:top-speed</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>120</pre>
</div>
</div>
<div class="paragraph">
<p>Similarly let me create another record instance of <code>Car</code> called <code>ambassador</code>, but there is difference in code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">ambassador</span><span class="w"> </span><span class="p">(</span><span class="nf">map-&gt;Car</span><span class="w"> </span><span class="p">{</span><span class="no">:name</span><span class="w"> </span><span class="s">"Ambassador"</span><span class="n">,</span><span class="w">
                           </span><span class="no">:top-speed</span><span class="w"> </span><span class="mi">240</span><span class="w"> </span><span class="p">}))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/ambassador</pre>
</div>
</div>
<div class="paragraph">
<p>While creating <code>tata-nano</code>, we gave values it must hold in a positional way, but look at <code>map&#8594;Car</code>, instead of <code>&#8594;Car</code> in the code above, here we saying we want to pass a map so we pass this map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">{</span><span class="w"> </span><span class="no">:name</span><span class="w"> </span><span class="s">"Ambassador"</span><span class="n">,</span><span class="w">
  </span><span class="no">:top-speed</span><span class="w"> </span><span class="mi">240</span><span class="w"> </span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And Clojure is smart enough to un-bundle it, and put the right values in right variables of <code>ambassador</code>. You can also vary the position like shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">{</span><span class="w"> </span><span class="no">:top-speed</span><span class="w"> </span><span class="mi">240</span><span class="w">
  </span><span class="no">:name</span><span class="w"> </span><span class="s">"Ambassador"</span><span class="w"> </span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It will still work the same.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s now get the <code>:name</code> and <code>:top-speed</code> of ambassador:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="no">:name</span><span class="w"> </span><span class="n">ambassador</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Ambassador"</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">get</span><span class="w"> </span><span class="n">ambassador</span><span class="w"> </span><span class="no">:name</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Ambassador"</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="no">:top-speed</span><span class="w"> </span><span class="n">ambassador</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>240</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">get</span><span class="w"> </span><span class="n">ambassador</span><span class="w"> </span><span class="no">:top-speed</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>240</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_records_with_functions">17.2. Using Records with functions</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/record_2.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/record_2.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Records can be passed to functions that knows how to handle it. Below we create a record called <code>Car</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defrecord</span><span class="w"> </span><span class="n">Car</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="w"> </span><span class="n">top-speed</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>user.Car</pre>
</div>
</div>
<div class="paragraph">
<p>We create a variable named <code>tata-nano</code> which is an instance of <code>Car</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">tata-nano</span><span class="w"> </span><span class="p">(</span><span class="nf">-&gt;Car</span><span class="w"> </span><span class="s">"Tata Nano"</span><span class="w"> </span><span class="mi">120</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/tata-nano</pre>
</div>
</div>
<div class="paragraph">
<p>We have now code a function that can work with the record, let&#8217;s nae it as <code>describe</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">describe</span><span class="w"> </span><span class="p">[</span><span class="n">vehicle</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[{</span><span class="nb">name</span><span class="w"> </span><span class="no">:name</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="no">:top-speed</span><span class="p">}</span><span class="w"> </span><span class="n">vehicle</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="nb">name</span><span class="w"> </span><span class="s">" has a top speed of "</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="s">"Km/hr."</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/describe</pre>
</div>
</div>
<div class="paragraph">
<p>If you see <code>describe</code>, it accepts a argument named <code>vehicle</code>, let&#8217;s look at the body of the function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[{</span><span class="nb">name</span><span class="w"> </span><span class="no">:name</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="no">:top-speed</span><span class="p">}</span><span class="w"> </span><span class="n">vehicle</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="nb">name</span><span class="w"> </span><span class="s">" has a top speed of "</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="s">"Km/hr."</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you see we are destructing car in <code>let [{name :name top-speed :top-speed} vehicle]</code>, in this code snippet, <code>:name</code> of the passed <code>Car</code> record is assigned to variable named <code>name</code> and <code>:top-speed</code> is assigned to variable named <code>top-speed</code>. All we have to do now is to return out a beautifully formatted string that describes the car, which is done using this <code>(str name " has a top speed of " top-speed "Km/hr.")</code> piece of coe, which embeds <code>name</code> and <code>top-speed</code> into a description string.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s use the <code>describe</code> on instance of <code>Car</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="n">tata-nano</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Tata Nano has a top speed of 120Km/hr."</pre>
</div>
</div>
<div class="paragraph">
<p>now let&#8217;s create a new record called <code>Ship</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defrecord</span><span class="w"> </span><span class="n">Ship</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="w"> </span><span class="n">top-speed</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>user.Ship</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s create a new ship instance called <code>artic-explorer</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">artic-explorer</span><span class="w"> </span><span class="p">(</span><span class="nf">-&gt;Ship</span><span class="w"> </span><span class="s">"Artic Explorer"</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/artic-explorer</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s write a function called <code>describe-ship</code>, that describes a ship:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">describe-ship</span><span class="w"> </span><span class="p">[</span><span class="n">vehicle</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[{</span><span class="nb">name</span><span class="w"> </span><span class="no">:name</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="no">:top-speed</span><span class="p">}</span><span class="w"> </span><span class="n">vehicle</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="nb">name</span><span class="w"> </span><span class="s">" has a top speed of "</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="s">" knots."</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/describe-ship</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s use <code>describe-ship</code> on <code>artic-explorer</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">describe-ship</span><span class="w"> </span><span class="n">artic-explorer</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Artic Explorer has a top speed of 10 knots."</pre>
</div>
</div>
<div class="paragraph">
<p>It works!</p>
</div>
</div>
<div class="sect2">
<h3 id="_protocols">17.3. Protocols</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/protocol.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/protocol.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In last section we saw a way to describe about a <code>Car</code> using <code>describe</code>, and describe a ship using <code>describe-ship</code> function. Won&#8217;t it be great for a programmer if he could just use one <code>describe</code> function to describe about a <code>Ship</code> and a <code>Car</code>? We will see how to do this with protocols here.</p>
</div>
<div class="paragraph">
<p>So let&#8217;s create a protocol called <code>Describe</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defprotocol</span><span class="w"> </span><span class="n">Describe</span><span class="w">
  </span><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="p">[</span><span class="n">this</span><span class="p">]))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Describe</pre>
</div>
</div>
<div class="paragraph">
<p>Now look at the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defrecord</span><span class="w"> </span><span class="n">Car</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="w"> </span><span class="n">top-speed</span><span class="p">]</span><span class="w">
  </span><span class="n">Describe</span><span class="w">
  </span><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="p">[</span><span class="n">this</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[{</span><span class="nb">name</span><span class="w"> </span><span class="no">:name</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="no">:top-speed</span><span class="p">}</span><span class="w"> </span><span class="n">this</span><span class="p">]</span><span class="w">
      </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="nb">name</span><span class="w"> </span><span class="s">" has a top speed of "</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="s">"Km/hr."</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>user.Car</pre>
</div>
</div>
<div class="paragraph">
<p>In it we create a record called car:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defrecord</span><span class="w"> </span><span class="n">Car</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="w"> </span><span class="n">top-speed</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Next we specify the <code>Describe</code> protocol in it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defrecord</span><span class="w"> </span><span class="n">Car</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="w"> </span><span class="n">top-speed</span><span class="p">]</span><span class="w">
  </span><span class="n">Describe</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then we write the definition of <code>describe</code> function for the <code>Car</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defrecord</span><span class="w"> </span><span class="n">Car</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="w"> </span><span class="n">top-speed</span><span class="p">]</span><span class="w">
  </span><span class="n">Describe</span><span class="w">
  </span><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="p">[</span><span class="n">this</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[{</span><span class="nb">name</span><span class="w"> </span><span class="no">:name</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="no">:top-speed</span><span class="p">}</span><span class="w"> </span><span class="n">this</span><span class="p">]</span><span class="w">
      </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="nb">name</span><span class="w"> </span><span class="s">" has a top speed of "</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="s">"Km/hr."</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note how there is no <code>defn</code> above. It just has the function name <code>describe</code>, followed by argument <code>this</code>, and in the body of describe we destructure <code>this</code> and return a sting description.</p>
</div>
<div class="paragraph">
<p>The <code>this</code> in examples in this section is not a special keyword that needs to be used in Clojure, it is just name given to a variable, that&#8217;s it.</p>
</div>
<div class="paragraph">
<p>Similar to car to <code>Car</code>, we write a <code>describe</code> function for <code>Ship</code> record as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defrecord</span><span class="w"> </span><span class="n">Ship</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="w"> </span><span class="n">top-speed</span><span class="p">]</span><span class="w">
  </span><span class="n">Describe</span><span class="w">
  </span><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="p">[</span><span class="n">this</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[{</span><span class="nb">name</span><span class="w"> </span><span class="no">:name</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="no">:top-speed</span><span class="p">}</span><span class="w"> </span><span class="n">this</span><span class="p">]</span><span class="w">
      </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="nb">name</span><span class="w"> </span><span class="s">" has a top speed of "</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="s">" knots."</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>user.Ship</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s create a instance of <code>Car</code> called <code>tata-nano</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">tata-nano</span><span class="w"> </span><span class="p">(</span><span class="nf">-&gt;Car</span><span class="w"> </span><span class="s">"Tata Nano"</span><span class="w"> </span><span class="mi">120</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/tata-nano</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s create instance of <code>Ship</code> called <code>artic-explorer</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">artic-explorer</span><span class="w"> </span><span class="p">(</span><span class="nf">-&gt;Ship</span><span class="w"> </span><span class="s">"Artic Explorer"</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/artic-explorer</pre>
</div>
</div>
<div class="paragraph">
<p>When we pass <code>tata-nano</code> to the <code>describe</code>, it knows its of type <code>Car</code> and the <code>describe</code> defined in <code>Car</code> is called:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="n">tata-nano</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Tata Nano has a top speed of 120Km/hr."</pre>
</div>
</div>
<div class="paragraph">
<p>Similarly it knows <code>artic-explorer</code> is a ship and it&#8217;s own <code>describe</code> is called in the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="n">artic-explorer</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Artic Explorer has a top speed of 10 knots."</pre>
</div>
</div>
<div class="sect3">
<h4 id="_extend_protocol">17.3.1. Extend Protocol</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For this section you can use this code <a href="https://gitlab.com/clojure-book/code/-/raw/master/extend-protocol.clj" class="bare">https://gitlab.com/clojure-book/code/-/raw/master/extend-protocol.clj</a>, copy and paste lines in it one by one in your REPL that either runs in your terminal or the ones that is integrated with your IDE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>So we have a protocol <code>Describe</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defprotocol</span><span class="w"> </span><span class="n">Describe</span><span class="w">
  </span><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="p">[</span><span class="n">this</span><span class="p">]))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Describe</pre>
</div>
</div>
<div class="paragraph">
<p>We use it to write a function called <code>describe</code> for record <code>Car`</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defrecord</span><span class="w"> </span><span class="n">Car</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="w"> </span><span class="n">top-speed</span><span class="p">]</span><span class="w">
  </span><span class="n">Describe</span><span class="w">
  </span><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="p">[</span><span class="n">this</span><span class="p">]</span><span class="w">
    </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[{</span><span class="nb">name</span><span class="w"> </span><span class="no">:name</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="no">:top-speed</span><span class="p">}</span><span class="w"> </span><span class="n">this</span><span class="p">]</span><span class="w">
      </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="nb">name</span><span class="w"> </span><span class="s">" has a top speed of "</span><span class="w"> </span><span class="n">top-speed</span><span class="w"> </span><span class="s">"Km/hr."</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>user.Car</pre>
</div>
</div>
<div class="paragraph">
<p>And it works:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">tata-nano</span><span class="w"> </span><span class="p">(</span><span class="nf">-&gt;Car</span><span class="w"> </span><span class="s">"Tata Nano"</span><span class="w"> </span><span class="mi">120</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/tata-nano</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="n">tata-nano</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"Tata Nano has a top speed of 120Km/hr.</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s say we have code written by some one else and it&#8217;s about <code>Rocket</code>, and we don&#8217;t want to mess up the code with our describe, but we want to extend the protocol <code>Describe</code> for it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defrecord</span><span class="w"> </span><span class="n">Rocket</span><span class="w"> </span><span class="p">[</span><span class="nb">name</span><span class="w"> </span><span class="n">orbit</span><span class="p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>user.Rocket</pre>
</div>
</div>
<div class="paragraph">
<p>Well, for that Clojure provides a function called <code>extend-protocol</code> that can used to extend the protocol <code>Describe</code> ash shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">extend-protocol</span><span class="w"> </span><span class="n">Describe</span><span class="w">
  </span><span class="n">Rocket</span><span class="w">
   </span><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="p">[</span><span class="n">this</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="p">(</span><span class="no">:name</span><span class="w"> </span><span class="n">this</span><span class="p">)</span><span class="w"> </span><span class="s">" reaches "</span><span class="w"> </span><span class="p">(</span><span class="no">:orbit</span><span class="w"> </span><span class="n">this</span><span class="p">)</span><span class="w"> </span><span class="s">" orbit."</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nil</pre>
</div>
</div>
<div class="paragraph">
<p>In the code above we say we want to extend protocol</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">extend-protocol</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We say that we want to extend <code>Describe</code> and we pass it as first argument:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">extend-protocol</span><span class="w"> </span><span class="n">Describe</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As a second argument we say we want to extend describe for record <code>Rocket</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">extend-protocol</span><span class="w"> </span><span class="n">Describe</span><span class="w">
  </span><span class="n">Rocket</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and finally we define the <code>describe</code> function</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">extend-protocol</span><span class="w"> </span><span class="n">Describe</span><span class="w">
  </span><span class="n">Rocket</span><span class="w">
   </span><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="p">[</span><span class="n">this</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="p">(</span><span class="no">:name</span><span class="w"> </span><span class="n">this</span><span class="p">)</span><span class="w"> </span><span class="s">" reaches "</span><span class="w"> </span><span class="p">(</span><span class="no">:orbit</span><span class="w"> </span><span class="n">this</span><span class="p">)</span><span class="w"> </span><span class="s">" orbit."</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s create a <code>Rocket</code> called <code>pslv</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">pslv</span><span class="w"> </span><span class="p">(</span><span class="nf">-&gt;Rocket</span><span class="w"> </span><span class="s">"PSLV"</span><span class="w"> </span><span class="s">"Low Earth"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#'user/pslv</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s pass it to <code>describe</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">describe</span><span class="w"> </span><span class="n">pslv</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"PSLV reaches Low Earth orbit."</pre>
</div>
</div>
<div class="paragraph">
<p>It works!</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_namespaces">18. namespaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A same word could mean different things, for example if you say book in a hotel it means one  thing, the same bok in a library means another, and in a police complaint a book means something else. Same word different meaning. A page in  a book is different, from a page in Operating System, which is different from Page the last name of a person.</p>
</div>
<div class="paragraph">
<p>In order to separate these differences in coding, Clojure provides a a thing called namespace. Look at the program <code>name_space.clj</code> below, type it and execute it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; name_space.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">lawyer</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I never speak truth."</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">politician</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I loot the nation."</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">engineer</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I apply science."</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">lawyer/about-me</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">politician/about-me</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">about-me</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">politician</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">about-me</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Execute it using the <code>clj</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ clj name_space.clj</pre>
</div>
</div>
<div class="paragraph">
<p>Output</p>
</div>
<div class="listingblock">
<div class="content">
<pre>I never speak truth.
I loot the nation.
I apply science.
I loot the nation.</pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s see how the above program works. Look at this code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">lawyer</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I never speak truth."</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">politician</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I loot the nation."</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">engineer</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I apply science."</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>First we create a namespace called <code>lawyer</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">lawyer</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In it we define a variable called <code>about-me</code> having some value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">lawyer</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I never speak truth."</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Next we define a name space called <code>politician</code> with a variable called about me:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">lawyer</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I never speak truth."</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">politician</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I loot the nation."</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>One must not think the <code>about-me</code> in <code>lawyer</code> namespaces is overwritten by the <code>(def about-me "I loot the nation.")</code>, since these are different name spaces, the lawyer still does not speak the truth.</p>
</div>
<div class="paragraph">
<p>Now we create another name space called <code>engineer</code> and we define another <code>about-me</code> under that name space:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">lawyer</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I never speak truth."</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">politician</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I loot the nation."</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">engineer</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I apply science."</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s see how to access these three different `about-me&#8217;s in different namespaces.</p>
</div>
<div class="paragraph">
<p>We are in <code>engineer</code> namespace now, so in order to access <code>about-me</code> in lawyer we need to use <code>lawyer/about-me</code> as shown below in the last line of the code snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">engineer</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I apply science."</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">lawyer/about-me</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This would print out <code>I never speak truth.</code>. Similarly look at the last line in code snippet below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">engineer</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I apply science."</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">lawyer/about-me</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">politician/about-me</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We are printing <code>politician/about-me</code>, this would print out value of <code>about-me</code> in <code>politician</code> name space, and hence we will get <code>I loot the nation.</code> as output on terminal.</p>
</div>
<div class="paragraph">
<p>Since we are in <code>engineer</code> namespace, there is no need for using <code>engineer/about</code>, though using that way will make the code more clear. Look at the last line below snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">engineer</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">about-me</span><span class="w"> </span><span class="s">"I apply science."</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">lawyer/about-me</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">politician/about-me</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">about-me</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This <code>about-me</code> since its been called in <code>engineer</code> namespace, prints out <code>I apply science.</code>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s now switch namespace, to politicians using the following line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">politician</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now since we have switched to <code>politician</code> name space, when we print out <code>about-me</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">about-me</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It prints out <code>I loot the nation.</code> once again.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing">19. Testing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Testing is a very integral part of coding. Let&#8217;s say you write a piece of code, its been used millions of times somewhere else, let&#8217;s say your colleague modifies it and it fails some conditions. Being a human how can he identify it fails in some cases? Well, when you write code, you also write some code that tests your code, so that when some one modifies your code, they can run corresponding test files and check if all is right.</p>
</div>
<div class="paragraph">
<p>Since code test code, test is automating stuff, and since computers can test your code they are really fast and would save you time.</p>
</div>
<div class="paragraph">
<p>Having a robust test suite means you can refactor your code with confidence and run it against the test so that you know it works fine.</p>
</div>
<div class="paragraph">
<p>So let&#8217;s take a piece of code shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sub</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This code is present in a file called <code>calc_lib.clj</code>, it contains two functions which adds and subtracts two numbers. So let&#8217;s now write a tests for it.</p>
</div>
<div class="paragraph">
<p>First Let me create a Clojure file called <code>calc_lib_test.clj</code>, note the file we are going to test is <code>calc_lib.clj</code>, the corresponding test file called <code>calc_lib_test.clj</code>, all we do is to append <code>_test</code> to the name of the file to indicate its a test. So we now have:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now from the Clojure test library <sup class="footnote">[<a id="_footnoteref_8" class="footnote" href="#_footnotedef_8" title="View footnote.">8</a>]</sup>, let&#8217;s require three methods, namely <code>deftest</code> which is a function thats used to define a test, <code>testing</code> which is a function that is used to add a subspace in <code>deftest</code> and <code>is</code> that is kind of used to throw out a message when an assertion fails. So we have a file like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:refer</span><span class="w"> </span><span class="p">[</span><span class="n">deftest</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">testing</span><span class="p">]])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>now let&#8217;s load the <code>calc_lib.clj</code>, that&#8217;s the file whose code we would like to get it tested:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:refer</span><span class="w"> </span><span class="p">[</span><span class="n">deftest</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">testing</span><span class="p">]])</span><span class="w">

</span><span class="p">(</span><span class="nb">load-file</span><span class="w"> </span><span class="s">"calc_lib.clj"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>now let&#8217;s define a test function called <code>calc_lib_test</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:refer</span><span class="w"> </span><span class="p">[</span><span class="n">deftest</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">testing</span><span class="p">]])</span><span class="w">

</span><span class="p">(</span><span class="nb">load-file</span><span class="w"> </span><span class="s">"calc_lib.clj"</span><span class="p">)</span><span class="w">

</span><span class="c1">; nest within `deftest` in source file</span><span class="w">
</span><span class="p">(</span><span class="nf">deftest</span><span class="w"> </span><span class="n">calc_lib_test</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As you see above it defined using <code>(deftest calc_lib_test)</code>. Now let&#8217;s put an string that we are testing <code>"calc_lib"</code>, using the code <code>(testing "calc_lib")</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:refer</span><span class="w"> </span><span class="p">[</span><span class="n">deftest</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">testing</span><span class="p">]])</span><span class="w">

</span><span class="p">(</span><span class="nb">load-file</span><span class="w"> </span><span class="s">"calc_lib.clj"</span><span class="p">)</span><span class="w">

</span><span class="c1">; nest within `deftest` in source file</span><span class="w">
</span><span class="p">(</span><span class="nf">deftest</span><span class="w"> </span><span class="n">calc_lib_test</span><span class="w">
  </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"calc_lib"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Inside the <code>calc_lib.clj</code>, let&#8217;s first test <code>add</code> function, so let&#8217;s put a string that we are testing <code>add</code> using (testing "add"):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:refer</span><span class="w"> </span><span class="p">[</span><span class="n">deftest</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">testing</span><span class="p">]])</span><span class="w">

</span><span class="p">(</span><span class="nb">load-file</span><span class="w"> </span><span class="s">"calc_lib.clj"</span><span class="p">)</span><span class="w">

</span><span class="c1">; nest within `deftest` in source file</span><span class="w">
</span><span class="p">(</span><span class="nf">deftest</span><span class="w"> </span><span class="n">calc_lib_test</span><span class="w">
  </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"calc_lib"</span><span class="w">
    </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"add"</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we want to see if <code>(add 2 2)</code> equals <code>4</code>, so we get the code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s pass it to the <code>is</code> function, so the code now becomes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">is</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now lets pass it as a second argument to the <code>testing</code> function which has first argument as string <code>"add"</code>, so the code now becomes like shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:refer</span><span class="w"> </span><span class="p">[</span><span class="n">deftest</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">testing</span><span class="p">]])</span><span class="w">

</span><span class="p">(</span><span class="nb">load-file</span><span class="w"> </span><span class="s">"calc_lib.clj"</span><span class="p">)</span><span class="w">

</span><span class="c1">; nest within `deftest` in source file</span><span class="w">
</span><span class="p">(</span><span class="nf">deftest</span><span class="w"> </span><span class="n">calc_lib_test</span><span class="w">
  </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"calc_lib"</span><span class="w">
    </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"add"</span><span class="w">
      </span><span class="p">(</span><span class="nf">is</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">))))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s call <code>calc_lib_test</code> to run the test:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:refer</span><span class="w"> </span><span class="p">[</span><span class="n">deftest</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">testing</span><span class="p">]])</span><span class="w">

</span><span class="p">(</span><span class="nb">load-file</span><span class="w"> </span><span class="s">"calc_lib.clj"</span><span class="p">)</span><span class="w">

</span><span class="c1">; nest within `deftest` in source file</span><span class="w">
</span><span class="p">(</span><span class="nf">deftest</span><span class="w"> </span><span class="n">calc_lib_test</span><span class="w">
  </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"calc_lib"</span><span class="w">
    </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"add"</span><span class="w">
      </span><span class="p">(</span><span class="nf">is</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">))))))</span><span class="w">

</span><span class="p">(</span><span class="nf">calc_lib_test</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s run the file using <code>clj</code> as shown</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ clj calc_lib_test.clj</pre>
</div>
</div>
<div class="paragraph">
<p>Nothing happens as the test passes.</p>
</div>
<div class="paragraph">
<p>Now change <code>4</code> to <code>5</code> in the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:refer</span><span class="w"> </span><span class="p">[</span><span class="n">deftest</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">testing</span><span class="p">]])</span><span class="w">

</span><span class="p">(</span><span class="nb">load-file</span><span class="w"> </span><span class="s">"calc_lib.clj"</span><span class="p">)</span><span class="w">

</span><span class="c1">; nest within `deftest` in source file</span><span class="w">
</span><span class="p">(</span><span class="nf">deftest</span><span class="w"> </span><span class="n">calc_lib_test</span><span class="w">
  </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"calc_lib"</span><span class="w">
    </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"add"</span><span class="w">
      </span><span class="p">(</span><span class="nf">is</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">))))))</span><span class="w">

</span><span class="p">(</span><span class="nf">calc_lib_test</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s run the file</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ clj calc_lib_test.clj
WARNING: Implicit use of clojure.main with options is deprecated, use -M

FAIL in (calc_lib_test) (calc_lib_test.clj:11)
calc_lib add
expected: (= 5 (add 2 2))
  actual: (not (= 5 4))</pre>
</div>
</div>
<div class="paragraph">
<p>As you can see from above, since the assertion fails, the code days in <code>cal_lib</code> and in add inside it, an assertion is failing, it says what is expected and what we actually get.</p>
</div>
<div class="paragraph">
<p>So as you can see, the more detailed description you can pass to <code>testing</code>, the more easy it will be for you to know what&#8217;s happening. The line number where the code fails is printed out too.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:refer</span><span class="w"> </span><span class="p">[</span><span class="n">deftest</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">testing</span><span class="p">]])</span><span class="w">

</span><span class="p">(</span><span class="nb">load-file</span><span class="w"> </span><span class="s">"calc_lib.clj"</span><span class="p">)</span><span class="w">

</span><span class="c1">; nest within `deftest` in source file</span><span class="w">
</span><span class="p">(</span><span class="nf">deftest</span><span class="w"> </span><span class="n">calc_lib_test</span><span class="w">
  </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"calc_lib"</span><span class="w">
    </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"add"</span><span class="w">
      </span><span class="p">(</span><span class="nf">is</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="s">"adding 2 and two should give right output"</span><span class="p">))))</span><span class="w">

</span><span class="p">(</span><span class="nf">calc_lib_test</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we have added a second argument to <code>is</code> function where we describe what test is going on, now let&#8217;s run the file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ clj calc_lib_test.clj
WARNING: Implicit use of clojure.main with options is deprecated, use -M

FAIL in (calc_lib_test) (calc_lib_test.clj:11)
calc_lib add
adding 2 and two should give right output
expected: (= 5 (add 2 2))
  actual: (not (= 5 4))</pre>
</div>
</div>
<div class="paragraph">
<p>So if the test fails, the second argument passed to <code>is</code> is printed too, thus aiding us with more clues.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s get back to the passing code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:refer</span><span class="w"> </span><span class="p">[</span><span class="n">deftest</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">testing</span><span class="p">]])</span><span class="w">

</span><span class="p">(</span><span class="nb">load-file</span><span class="w"> </span><span class="s">"calc_lib.clj"</span><span class="p">)</span><span class="w">

</span><span class="c1">; nest within `deftest` in source file</span><span class="w">
</span><span class="p">(</span><span class="nf">deftest</span><span class="w"> </span><span class="n">calc_lib_test</span><span class="w">
  </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"calc_lib"</span><span class="w">
    </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"add"</span><span class="w">
      </span><span class="p">(</span><span class="nf">is</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">))))))</span><span class="w">

</span><span class="p">(</span><span class="nf">calc_lib_test</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s add our second assertion where we check if <code>3</code> and <code>4</code> when added gives <code>7</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:refer</span><span class="w"> </span><span class="p">[</span><span class="n">deftest</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">testing</span><span class="p">]])</span><span class="w">

</span><span class="p">(</span><span class="nb">load-file</span><span class="w"> </span><span class="s">"calc_lib.clj"</span><span class="p">)</span><span class="w">

</span><span class="c1">; nest within `deftest` in source file</span><span class="w">
</span><span class="p">(</span><span class="nf">deftest</span><span class="w"> </span><span class="n">calc_lib_test</span><span class="w">
  </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"calc_lib"</span><span class="w">
    </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"add"</span><span class="w">
      </span><span class="p">(</span><span class="nf">is</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span><span class="w">
      </span><span class="p">(</span><span class="nf">is</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))))))</span><span class="w">

</span><span class="p">(</span><span class="nf">calc_lib_test</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now in the code below I am also testing the <code>sub</code> function by adding another <code>testing</code> block:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; calc_lib_test.clj</span><span class="w">

</span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:refer</span><span class="w"> </span><span class="p">[</span><span class="n">deftest</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">testing</span><span class="p">]])</span><span class="w">

</span><span class="p">(</span><span class="nb">load-file</span><span class="w"> </span><span class="s">"calc_lib.clj"</span><span class="p">)</span><span class="w">

</span><span class="c1">; nest within `deftest` in source file</span><span class="w">
</span><span class="p">(</span><span class="nf">deftest</span><span class="w"> </span><span class="n">calc_lib_test</span><span class="w">
  </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"calc_lib"</span><span class="w">
    </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"add"</span><span class="w">
      </span><span class="p">(</span><span class="nf">is</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span><span class="w">
      </span><span class="p">(</span><span class="nf">is</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))))</span><span class="w">
    </span><span class="p">(</span><span class="nf">testing</span><span class="w"> </span><span class="s">"sub"</span><span class="w">
      </span><span class="p">(</span><span class="nf">is</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="nf">sub</span><span class="w"> </span><span class="mi">-2</span><span class="w"> </span><span class="mi">-2</span><span class="p">)))</span><span class="w">
      </span><span class="p">(</span><span class="nf">is</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="p">(</span><span class="nf">sub</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">-4</span><span class="p">))))))</span><span class="w">

</span><span class="p">(</span><span class="nf">calc_lib_test</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_macros">20. Macros</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lets say you want to add 2 and 3  and you will write it like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>+</code> is a function and <code>2</code> and <code>3</code> are arguments. But let&#8217;s say that I am more comfortable writing it as <code>(2 + 3)</code> rather than <code>(+ 2 3)</code>, how I can do that in Clojure?</p>
</div>
<div class="paragraph">
<p>When you consider any Clojure code like <code>(+ 2 3)</code> its basically a list, you can verify it in REPL as shown</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nf">type</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w">
</span><span class="n">clojure.lang.PersistentList</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The single quote here <code>'(+ 2 3)</code> tells to Clojure that not to execute the list. The basic thing is, any program in Clojure is a list. So even <code>(2 + 3)</code> is a list. Now all we need to do is convert <code>(2 + 3)</code> to <code>(+ 2 3)</code> and let it execute.</p>
</div>
<div class="paragraph">
<p>So let&#8217;s imagine we capture <code>(2 + 3)</code> in  a variable called  <code>a-list</code>. We take the first element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w"> </span><span class="c1">; This gets the 2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then after the first we put the last element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w"> </span><span class="c1">; This gets the 2</span><span class="w">
</span><span class="p">(</span><span class="nb">last</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w">  </span><span class="c1">; This gets the 3</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We need to grab the plus sign and put it in front, and we see the plus is in the middle of <code>a-list</code> which is <code>(2 + 3)</code>, that is the <code>+</code> is the second element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">second</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w"> </span><span class="c1">; This gets the 2</span><span class="w">
</span><span class="p">(</span><span class="nb">last</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w">  </span><span class="c1">; This gets the 3</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we pack it into a list:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="c1">; convert (2 + 3) to (+ 2  3)</span><span class="w">
  </span><span class="p">(</span><span class="nb">second</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">last</span><span class="w"> </span><span class="n">a-list</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And we say the above thing is a macro named <code>calculate</code> which take a single argument called <code>a-list</code> as input:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defmacro</span><span class="w"> </span><span class="n">calculate</span><span class="w"> </span><span class="p">[</span><span class="n">a-list</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="c1">; convert (2 + 3) to (+ 2  3)</span><span class="w">
    </span><span class="p">(</span><span class="nb">second</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">last</span><span class="w"> </span><span class="n">a-list</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now one can try this code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; macro.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defmacro</span><span class="w"> </span><span class="n">calculate</span><span class="w"> </span><span class="p">[</span><span class="n">a-list</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="c1">; convert (2 + 3) to (+ 2  3)</span><span class="w">
    </span><span class="p">(</span><span class="nb">second</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">last</span><span class="w"> </span><span class="n">a-list</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w">
  </span><span class="p">(</span><span class="nf">calculate</span><span class="w"> </span><span class="p">(</span><span class="nf">2</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="mi">3</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This will give 5 as output.</p>
</div>
<div class="paragraph">
<p>You can also use <code>macroexpand</code> keyword to expand a macro, for example the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">println</span><span class="w">
  </span><span class="p">(</span><span class="nb">macroexpand</span><span class="w">
    </span><span class="o">'</span><span class="p">(</span><span class="nf">calculate</span><span class="w"> </span><span class="p">(</span><span class="nf">2</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="mi">3</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Will print out:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>(+ 2 3)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Thats what macro <code>calculate</code> is supposed to do after you give <code>(2 + 3)</code> as input.</p>
</div>
<div class="paragraph">
<p>The entire <code>macro.clj</code> code is listed below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; macro.clj</span><span class="w">

</span><span class="p">(</span><span class="k">defmacro</span><span class="w"> </span><span class="n">calculate</span><span class="w"> </span><span class="p">[</span><span class="n">a-list</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="c1">; convert (2 + 3) to (+ 2  3)</span><span class="w">
    </span><span class="p">(</span><span class="nb">second</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="n">a-list</span><span class="p">)</span><span class="w">
    </span><span class="p">(</span><span class="nb">last</span><span class="w"> </span><span class="n">a-list</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w">
  </span><span class="p">(</span><span class="nf">calculate</span><span class="w"> </span><span class="p">(</span><span class="nf">2</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="mi">3</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="nb">println</span><span class="w">
  </span><span class="p">(</span><span class="nb">macroexpand</span><span class="w">
    </span><span class="o">'</span><span class="p">(</span><span class="nf">calculate</span><span class="w"> </span><span class="p">(</span><span class="nf">2</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="mi">3</span><span class="p">))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Run it and you should get output like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>5
(+ 2 3)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bibliography">Bibliography</h2>
<div class="sectionbody">
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p>Clojure for the brave and true <a href="https://www.braveclojure.com/" class="bare">https://www.braveclojure.com/</a></p>
</li>
<li>
<p>Getting Clojure <a href="https://amzn.to/3ABmVup" class="bare">https://amzn.to/3ABmVup</a></p>
</li>
<li>
<p>Programming Clojure <a href="https://amzn.to/3c2aAFe" class="bare">https://amzn.to/3c2aAFe</a></p>
</li>
<li>
<p>Professional Clojure <a href="https://amzn.to/3ARddo7" class="bare">https://amzn.to/3ARddo7</a></p>
</li>
<li>
<p>Practicalli <a href="https://practical.li/" class="bare">https://practical.li/</a></p>
</li>
<li>
<p>Clojure Cookbook: Recipes for Functional Programming <a href="https://amzn.to/3TMkuLn" class="bare">https://amzn.to/3TMkuLn</a></p>
</li>
<li>
<p>The Joy of Clojure <a href="https://amzn.to/3hOwJtN" class="bare">https://amzn.to/3hOwJtN</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. <a href="https://en.wikipedia.org/wiki/Localhost" class="bare">https://en.wikipedia.org/wiki/Localhost</a>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. <a href="https://en.wikipedia.org/wiki/Port_(computer_networking" class="bare">https://en.wikipedia.org/wiki/Port_(computer_networking</a>)
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. <a href="https://en.wikipedia.org/wiki/Random-access_memory" class="bare">https://en.wikipedia.org/wiki/Random-access_memory</a>
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. <a href="https://en.wikipedia.org/wiki/Immutable_object" class="bare">https://en.wikipedia.org/wiki/Immutable_object</a>
</div>
<div class="footnote" id="_footnotedef_5">
<a href="#_footnoteref_5">5</a>. <a href="https://clojuredocs.org/clojure.spec.alpha/cat" class="bare">https://clojuredocs.org/clojure.spec.alpha/cat</a>
</div>
<div class="footnote" id="_footnotedef_6">
<a href="#_footnoteref_6">6</a>. <a href="https://clojuredocs.org/clojure.spec.alpha/keys" class="bare">https://clojuredocs.org/clojure.spec.alpha/keys</a>
</div>
<div class="footnote" id="_footnotedef_7">
<a href="#_footnoteref_7">7</a>. <a href="https://clojuredocs.org/clojure.core/seq" class="bare">https://clojuredocs.org/clojure.core/seq</a>
</div>
<div class="footnote" id="_footnotedef_8">
<a href="#_footnoteref_8">8</a>. <a href="https://clojuredocs.org/clojure.test" class="bare">https://clojuredocs.org/clojure.test</a>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-08-26 00:56:18 +0530
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>